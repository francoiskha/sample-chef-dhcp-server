[2014-06-09T12:54:38+00:00] INFO: Forking chef instance to converge...
[2014-06-09T12:54:38+00:00] WARN: 
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 
SSL validation of HTTPS requests is disabled. HTTPS connections are still
encrypted, but chef is not able to detect forged replies or man in the middle
attacks.

To fix this issue add an entry like this to your configuration file:

```
  # Verify all HTTPS connections (recommended)
  ssl_verify_mode :verify_peer

  # OR, Verify only connections to chef-server
  verify_api_cert true
```

To check your SSL configuration, or troubleshoot errors, you can use the
`knife ssl check` command like so:

```
  knife ssl check -c solo.rb
```

* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 

[2014-06-09T12:54:38+00:00] INFO: *** Chef 11.12.8 ***
[2014-06-09T12:54:38+00:00] INFO: Chef-client pid: 4841
[2014-06-09T12:54:54+00:00] INFO: Setting the run_list to ["recipe[dhcp-cook]"] from CLI options
[2014-06-09T12:54:54+00:00] INFO: Run List is [recipe[dhcp-cook]]
[2014-06-09T12:54:54+00:00] INFO: Run List expands to [dhcp-cook]
[2014-06-09T12:54:54+00:00] INFO: Starting Chef Run for packer-debian-7.4-amd64
[2014-06-09T12:54:54+00:00] INFO: Running start handlers
[2014-06-09T12:54:54+00:00] INFO: Start handlers complete.
[2014-06-09T12:54:55+00:00] INFO: Chef Run complete in 0.628031774 seconds
[2014-06-09T12:54:55+00:00] INFO: Running report handlers
[2014-06-09T12:54:55+00:00] INFO: Report handlers complete
[2014-06-09T12:58:53+00:00] INFO: Forking chef instance to converge...
[2014-06-09T12:58:53+00:00] DEBUG: Fork successful. Waiting for new chef pid: 5004
[2014-06-09T12:58:53+00:00] DEBUG: Forked instance now converging
[2014-06-09T12:58:53+00:00] WARN: 
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 
SSL validation of HTTPS requests is disabled. HTTPS connections are still
encrypted, but chef is not able to detect forged replies or man in the middle
attacks.

To fix this issue add an entry like this to your configuration file:

```
  # Verify all HTTPS connections (recommended)
  ssl_verify_mode :verify_peer

  # OR, Verify only connections to chef-server
  verify_api_cert true
```

To check your SSL configuration, or troubleshoot errors, you can use the
`knife ssl check` command like so:

```
  knife ssl check -c solo.rb
```

* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 

[2014-06-09T12:58:53+00:00] INFO: *** Chef 11.12.8 ***
[2014-06-09T12:58:53+00:00] INFO: Chef-client pid: 5004
[2014-06-09T12:58:53+00:00] DEBUG: Chef-client request_id: 192d9f68-093e-456f-9c40-ee16e0830f53
[2014-06-09T12:59:09+00:00] DEBUG: Building node object for packer-debian-7.4-amd64
[2014-06-09T12:59:09+00:00] DEBUG: Extracting run list from JSON attributes provided on command line
[2014-06-09T12:59:09+00:00] INFO: Setting the run_list to ["recipe[dhcp-cook]"] from CLI options
[2014-06-09T12:59:09+00:00] DEBUG: Applying attributes from json file
[2014-06-09T12:59:09+00:00] DEBUG: Platform is debian version 7.4
[2014-06-09T12:59:09+00:00] INFO: Run List is [recipe[dhcp-cook]]
[2014-06-09T12:59:09+00:00] INFO: Run List expands to [dhcp-cook]
[2014-06-09T12:59:09+00:00] INFO: Starting Chef Run for packer-debian-7.4-amd64
[2014-06-09T12:59:09+00:00] INFO: Running start handlers
[2014-06-09T12:59:09+00:00] INFO: Start handlers complete.
[2014-06-09T12:59:09+00:00] DEBUG: No chefignore file found at /vagrant/chefignore no files will be ignored
[2014-06-09T12:59:09+00:00] DEBUG: Cookbooks to compile: [:"helpers-databags", :"ruby-helper", :"dhcp-cook"]
[2014-06-09T12:59:09+00:00] DEBUG: Loading cookbook helpers-databags's library file: /vagrant/cookbooks/helpers-databags/libraries/helpers_databags.rb
[2014-06-09T12:59:09+00:00] DEBUG: Loading cookbook ruby-helper's library file: /vagrant/cookbooks/ruby-helper/libraries/object.rb
[2014-06-09T12:59:10+00:00] DEBUG: Loading cookbook dhcp-cook's library file: /vagrant/cookbooks/dhcp-cook/libraries/dynadns.rb
[2014-06-09T12:59:10+00:00] DEBUG: Loading cookbook dhcp-cook's library file: /vagrant/cookbooks/dhcp-cook/libraries/failover.rb
[2014-06-09T12:59:10+00:00] DEBUG: Node packer-debian-7.4-amd64 loading cookbook dhcp-cook's attribute file /vagrant/cookbooks/dhcp-cook/attributes/default.rb
[2014-06-09T12:59:10+00:00] DEBUG: Loading Attribute dhcp-cook::default
[2014-06-09T12:59:10+00:00] DEBUG: Loading cookbook dhcp-cook's providers from /vagrant/cookbooks/dhcp-cook/providers/group.rb
[2014-06-09T12:59:10+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp-cook/providers/group.rb into a provider named dhcp-cook_group defined in Chef::Provider::DhcpCookGroup
[2014-06-09T12:59:10+00:00] DEBUG: Loading cookbook dhcp-cook's providers from /vagrant/cookbooks/dhcp-cook/providers/host.rb
[2014-06-09T12:59:10+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp-cook/providers/host.rb into a provider named dhcp-cook_host defined in Chef::Provider::DhcpCookHost
[2014-06-09T12:59:10+00:00] DEBUG: Loading cookbook dhcp-cook's providers from /vagrant/cookbooks/dhcp-cook/providers/subnet.rb
[2014-06-09T12:59:10+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp-cook/providers/subnet.rb into a provider named dhcp-cook_subnet defined in Chef::Provider::DhcpCookSubnet
[2014-06-09T12:59:10+00:00] DEBUG: Loading cookbook dhcp-cook's resources from /vagrant/cookbooks/dhcp-cook/resources/group.rb
[2014-06-09T12:59:10+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp-cook/resources/group.rb into a resource named dhcp-cook_group defined in Chef::Resource::DhcpCookGroup
[2014-06-09T12:59:10+00:00] DEBUG: Loading cookbook dhcp-cook's resources from /vagrant/cookbooks/dhcp-cook/resources/host.rb
[2014-06-09T12:59:10+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp-cook/resources/host.rb into a resource named dhcp-cook_host defined in Chef::Resource::DhcpCookHost
[2014-06-09T12:59:10+00:00] DEBUG: Loading cookbook dhcp-cook's resources from /vagrant/cookbooks/dhcp-cook/resources/subnet.rb
[2014-06-09T12:59:10+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp-cook/resources/subnet.rb into a resource named dhcp-cook_subnet defined in Chef::Resource::DhcpCookSubnet
[2014-06-09T12:59:10+00:00] DEBUG: Loading Recipe dhcp-cook via include_recipe
[2014-06-09T12:59:10+00:00] DEBUG: Found recipe default in cookbook dhcp-cook
[2014-06-09T12:59:10+00:00] DEBUG: Loading from cookbook_path: /vagrant/cookbooks
[2014-06-09T12:59:10+00:00] DEBUG: Converging node packer-debian-7.4-amd64
[2014-06-09T12:59:10+00:00] INFO: Chef Run complete in 0.228436855 seconds
[2014-06-09T12:59:10+00:00] INFO: Running report handlers
[2014-06-09T12:59:10+00:00] INFO: Report handlers complete
[2014-06-09T12:59:10+00:00] DEBUG: Forked instance successfully reaped (pid: 5004)
[2014-06-09T12:59:10+00:00] DEBUG: Exiting
[2014-06-09T13:04:11+00:00] INFO: Forking chef instance to converge...
[2014-06-09T13:04:11+00:00] DEBUG: Fork successful. Waiting for new chef pid: 5160
[2014-06-09T13:04:11+00:00] DEBUG: Forked instance now converging
[2014-06-09T13:04:11+00:00] WARN: 
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 
SSL validation of HTTPS requests is disabled. HTTPS connections are still
encrypted, but chef is not able to detect forged replies or man in the middle
attacks.

To fix this issue add an entry like this to your configuration file:

```
  # Verify all HTTPS connections (recommended)
  ssl_verify_mode :verify_peer

  # OR, Verify only connections to chef-server
  verify_api_cert true
```

To check your SSL configuration, or troubleshoot errors, you can use the
`knife ssl check` command like so:

```
  knife ssl check -c solo.rb
```

* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 

[2014-06-09T13:04:11+00:00] INFO: *** Chef 11.12.8 ***
[2014-06-09T13:04:11+00:00] INFO: Chef-client pid: 5160
[2014-06-09T13:04:11+00:00] DEBUG: Chef-client request_id: 2961ab42-d3be-4d3f-a7db-303732d6ef9d
[2014-06-09T13:04:27+00:00] DEBUG: Building node object for packer-debian-7.4-amd64
[2014-06-09T13:04:27+00:00] DEBUG: Extracting run list from JSON attributes provided on command line
[2014-06-09T13:04:27+00:00] INFO: Setting the run_list to ["recipe[dhcp-cook::server]"] from CLI options
[2014-06-09T13:04:27+00:00] DEBUG: Applying attributes from json file
[2014-06-09T13:04:27+00:00] DEBUG: Platform is debian version 7.4
[2014-06-09T13:04:27+00:00] INFO: Run List is [recipe[dhcp-cook::server]]
[2014-06-09T13:04:27+00:00] INFO: Run List expands to [dhcp-cook::server]
[2014-06-09T13:04:27+00:00] INFO: Starting Chef Run for packer-debian-7.4-amd64
[2014-06-09T13:04:27+00:00] INFO: Running start handlers
[2014-06-09T13:04:27+00:00] INFO: Start handlers complete.
[2014-06-09T13:04:27+00:00] DEBUG: No chefignore file found at /vagrant/chefignore no files will be ignored
[2014-06-09T13:04:28+00:00] DEBUG: Cookbooks to compile: [:"helpers-databags", :"ruby-helper", :"dhcp-cook"]
[2014-06-09T13:04:28+00:00] DEBUG: Loading cookbook helpers-databags's library file: /vagrant/cookbooks/helpers-databags/libraries/helpers_databags.rb
[2014-06-09T13:04:28+00:00] DEBUG: Loading cookbook ruby-helper's library file: /vagrant/cookbooks/ruby-helper/libraries/object.rb
[2014-06-09T13:04:28+00:00] DEBUG: Loading cookbook dhcp-cook's library file: /vagrant/cookbooks/dhcp-cook/libraries/dynadns.rb
[2014-06-09T13:04:28+00:00] DEBUG: Loading cookbook dhcp-cook's library file: /vagrant/cookbooks/dhcp-cook/libraries/failover.rb
[2014-06-09T13:04:28+00:00] DEBUG: Node packer-debian-7.4-amd64 loading cookbook dhcp-cook's attribute file /vagrant/cookbooks/dhcp-cook/attributes/default.rb
[2014-06-09T13:04:28+00:00] DEBUG: Loading Attribute dhcp-cook::default
[2014-06-09T13:04:28+00:00] DEBUG: Loading cookbook dhcp-cook's providers from /vagrant/cookbooks/dhcp-cook/providers/group.rb
[2014-06-09T13:04:28+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp-cook/providers/group.rb into a provider named dhcp-cook_group defined in Chef::Provider::DhcpCookGroup
[2014-06-09T13:04:28+00:00] DEBUG: Loading cookbook dhcp-cook's providers from /vagrant/cookbooks/dhcp-cook/providers/host.rb
[2014-06-09T13:04:28+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp-cook/providers/host.rb into a provider named dhcp-cook_host defined in Chef::Provider::DhcpCookHost
[2014-06-09T13:04:28+00:00] DEBUG: Loading cookbook dhcp-cook's providers from /vagrant/cookbooks/dhcp-cook/providers/subnet.rb
[2014-06-09T13:04:28+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp-cook/providers/subnet.rb into a provider named dhcp-cook_subnet defined in Chef::Provider::DhcpCookSubnet
[2014-06-09T13:04:28+00:00] DEBUG: Loading cookbook dhcp-cook's resources from /vagrant/cookbooks/dhcp-cook/resources/group.rb
[2014-06-09T13:04:28+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp-cook/resources/group.rb into a resource named dhcp-cook_group defined in Chef::Resource::DhcpCookGroup
[2014-06-09T13:04:28+00:00] DEBUG: Loading cookbook dhcp-cook's resources from /vagrant/cookbooks/dhcp-cook/resources/host.rb
[2014-06-09T13:04:28+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp-cook/resources/host.rb into a resource named dhcp-cook_host defined in Chef::Resource::DhcpCookHost
[2014-06-09T13:04:28+00:00] DEBUG: Loading cookbook dhcp-cook's resources from /vagrant/cookbooks/dhcp-cook/resources/subnet.rb
[2014-06-09T13:04:28+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp-cook/resources/subnet.rb into a resource named dhcp-cook_subnet defined in Chef::Resource::DhcpCookSubnet
[2014-06-09T13:04:28+00:00] DEBUG: Loading Recipe dhcp-cook::server via include_recipe
[2014-06-09T13:04:28+00:00] DEBUG: Found recipe server in cookbook dhcp-cook
[2014-06-09T13:04:28+00:00] DEBUG: Loading Recipe helpers-databags via include_recipe
[2014-06-09T13:04:28+00:00] DEBUG: Found recipe default in cookbook helpers-databags
[2014-06-09T13:04:28+00:00] DEBUG: Loading Recipe ruby-helper via include_recipe
[2014-06-09T13:04:28+00:00] DEBUG: Found recipe default in cookbook ruby-helper
[2014-06-09T13:04:28+00:00] DEBUG: Loading Recipe dhcp::_package via include_recipe
[2014-06-09T13:04:28+00:00] WARN: MissingCookbookDependency:
Recipe `dhcp::_package` is not in the run_list, and cookbook 'dhcp'
is not a dependency of any cookbook in the run_list.  To load this recipe,
first add a dependency on cookbook 'dhcp' in the cookbook you're
including it from in that cookbook's metadata.

[2014-06-09T13:04:28+00:00] DEBUG: filtered backtrace of compile error: /vagrant/cookbooks/dhcp-cook/recipes/server.rb:27:in `from_file'
[2014-06-09T13:04:28+00:00] DEBUG: filtered backtrace of compile error: /vagrant/cookbooks/dhcp-cook/recipes/server.rb:27:in `from_file'
[2014-06-09T13:04:28+00:00] DEBUG: backtrace entry for compile error: '/vagrant/cookbooks/dhcp-cook/recipes/server.rb:27:in `from_file''
[2014-06-09T13:04:28+00:00] DEBUG: Line number of compile error: '27'
[0m
================================================================================[0m
[31mRecipe Compile Error in /vagrant/cookbooks/dhcp-cook/recipes/server.rb[0m
================================================================================[0m

[0m
Chef::Exceptions::CookbookNotFound[0m
----------------------------------[0m
Cookbook dhcp not found. If you're loading dhcp from another cookbook, make sure you configure the dependency in your metadata[0m

[0m
Cookbook Trace:[0m
---------------[0m
  /vagrant/cookbooks/dhcp-cook/recipes/server.rb:27:in `from_file'[0m

[0m
Relevant File Content:[0m
----------------------[0m
/vagrant/cookbooks/dhcp-cook/recipes/server.rb:

 20:  # See the License for the specific language governing permissions and
 21:  # limitations under the License.
 22:  #
 23:  
 24:  include_recipe 'helpers-databags'
 25:  include_recipe 'ruby-helper'
 26:  
 27>> include_recipe 'dhcp::_package'
 28:  include_recipe 'dhcp::_service'
 29:  include_recipe 'dhcp::_config'
 30:  include_recipe 'dhcp::_networks'
 31:  include_recipe 'dhcp::_groups'
 32:  include_recipe 'dhcp::_hosts'
 33:  [0m

[0m
[2014-06-09T13:04:28+00:00] DEBUG: Re-raising exception: Chef::Exceptions::CookbookNotFound - Cookbook dhcp not found. If you're loading dhcp from another cookbook, make sure you configure the dependency in your metadata
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/cookbook/cookbook_collection.rb:38:in `block in initialize'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/ohai-7.0.4/lib/ohai/mash.rb:77:in `yield'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/ohai-7.0.4/lib/ohai/mash.rb:77:in `default'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/ohai-7.0.4/lib/ohai/mash.rb:77:in `default'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:164:in `[]'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:164:in `load_recipe'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:134:in `block in include_recipe'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:133:in `each'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:133:in `include_recipe'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/dsl/include_recipe.rb:26:in `include_recipe'
  /vagrant/cookbooks/dhcp-cook/recipes/server.rb:27:in `from_file'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/from_file.rb:30:in `instance_eval'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/from_file.rb:30:in `from_file'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/cookbook_version.rb:237:in `load_recipe'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:165:in `load_recipe'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context/cookbook_compiler.rb:140:in `block in compile_recipes'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context/cookbook_compiler.rb:138:in `each'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context/cookbook_compiler.rb:138:in `compile_recipes'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context/cookbook_compiler.rb:75:in `compile'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:88:in `load'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/policy_builder/expand_node_object.rb:73:in `setup_run_context'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:265:in `setup_run_context'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:429:in `do_run'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:213:in `block in run'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:207:in `fork'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:207:in `run'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application.rb:217:in `run_chef_client'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:221:in `block in run_application'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:213:in `loop'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:213:in `run_application'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application.rb:67:in `run'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/bin/chef-solo:25:in `<top (required)>'
  /usr/bin/chef-solo:23:in `load'
  /usr/bin/chef-solo:23:in `<main>'
[2014-06-09T13:04:28+00:00] ERROR: Running exception handlers
[2014-06-09T13:04:28+00:00] ERROR: Exception handlers complete
[2014-06-09T13:04:28+00:00] FATAL: Stacktrace dumped to /var/chef/cache/chef-stacktrace.out
[2014-06-09T13:04:28+00:00] DEBUG: Chef::Exceptions::CookbookNotFound: Cookbook dhcp not found. If you're loading dhcp from another cookbook, make sure you configure the dependency in your metadata
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/cookbook/cookbook_collection.rb:38:in `block in initialize'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/ohai-7.0.4/lib/ohai/mash.rb:77:in `yield'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/ohai-7.0.4/lib/ohai/mash.rb:77:in `default'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/ohai-7.0.4/lib/ohai/mash.rb:77:in `default'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:164:in `[]'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:164:in `load_recipe'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:134:in `block in include_recipe'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:133:in `each'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:133:in `include_recipe'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/dsl/include_recipe.rb:26:in `include_recipe'
/vagrant/cookbooks/dhcp-cook/recipes/server.rb:27:in `from_file'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/from_file.rb:30:in `instance_eval'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/from_file.rb:30:in `from_file'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/cookbook_version.rb:237:in `load_recipe'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:165:in `load_recipe'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context/cookbook_compiler.rb:140:in `block in compile_recipes'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context/cookbook_compiler.rb:138:in `each'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context/cookbook_compiler.rb:138:in `compile_recipes'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context/cookbook_compiler.rb:75:in `compile'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:88:in `load'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/policy_builder/expand_node_object.rb:73:in `setup_run_context'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:265:in `setup_run_context'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:429:in `do_run'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:213:in `block in run'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:207:in `fork'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:207:in `run'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application.rb:217:in `run_chef_client'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:221:in `block in run_application'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:213:in `loop'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:213:in `run_application'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application.rb:67:in `run'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/bin/chef-solo:25:in `<top (required)>'
/usr/bin/chef-solo:23:in `load'
/usr/bin/chef-solo:23:in `<main>'
[2014-06-09T13:04:28+00:00] ERROR: Cookbook dhcp not found. If you're loading dhcp from another cookbook, make sure you configure the dependency in your metadata
[2014-06-09T13:04:28+00:00] FATAL: Chef::Exceptions::ChildConvergeError: Chef run process exited unsuccessfully (exit code 1)
[2014-06-09T13:07:21+00:00] INFO: Forking chef instance to converge...
[2014-06-09T13:07:21+00:00] DEBUG: Fork successful. Waiting for new chef pid: 5319
[2014-06-09T13:07:21+00:00] DEBUG: Forked instance now converging
[2014-06-09T13:07:21+00:00] WARN: 
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 
SSL validation of HTTPS requests is disabled. HTTPS connections are still
encrypted, but chef is not able to detect forged replies or man in the middle
attacks.

To fix this issue add an entry like this to your configuration file:

```
  # Verify all HTTPS connections (recommended)
  ssl_verify_mode :verify_peer

  # OR, Verify only connections to chef-server
  verify_api_cert true
```

To check your SSL configuration, or troubleshoot errors, you can use the
`knife ssl check` command like so:

```
  knife ssl check -c solo.rb
```

* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 

[2014-06-09T13:07:21+00:00] INFO: *** Chef 11.12.8 ***
[2014-06-09T13:07:21+00:00] INFO: Chef-client pid: 5319
[2014-06-09T13:07:21+00:00] DEBUG: Chef-client request_id: 814d57e3-cc59-4342-bb98-f9d805f206f5
[2014-06-09T13:07:37+00:00] DEBUG: Building node object for packer-debian-7.4-amd64
[2014-06-09T13:07:37+00:00] DEBUG: Extracting run list from JSON attributes provided on command line
[2014-06-09T13:07:37+00:00] INFO: Setting the run_list to ["recipe[dhcp::server]"] from CLI options
[2014-06-09T13:07:37+00:00] DEBUG: Applying attributes from json file
[2014-06-09T13:07:37+00:00] DEBUG: Platform is debian version 7.4
[2014-06-09T13:07:37+00:00] INFO: Run List is [recipe[dhcp::server]]
[2014-06-09T13:07:37+00:00] INFO: Run List expands to [dhcp::server]
[2014-06-09T13:07:37+00:00] INFO: Starting Chef Run for packer-debian-7.4-amd64
[2014-06-09T13:07:37+00:00] INFO: Running start handlers
[2014-06-09T13:07:37+00:00] INFO: Start handlers complete.
[2014-06-09T13:07:37+00:00] DEBUG: No chefignore file found at /vagrant/chefignore no files will be ignored
[2014-06-09T13:07:37+00:00] DEBUG: Cookbooks to compile: [:"helpers-databags", :"ruby-helper", :dhcp]
[2014-06-09T13:07:37+00:00] DEBUG: Loading cookbook helpers-databags's library file: /vagrant/cookbooks/helpers-databags/libraries/helpers_databags.rb
[2014-06-09T13:07:37+00:00] DEBUG: Loading cookbook ruby-helper's library file: /vagrant/cookbooks/ruby-helper/libraries/object.rb
[2014-06-09T13:07:37+00:00] DEBUG: Loading cookbook dhcp's library file: /vagrant/cookbooks/dhcp/libraries/dynadns.rb
[2014-06-09T13:07:37+00:00] DEBUG: Loading cookbook dhcp's library file: /vagrant/cookbooks/dhcp/libraries/failover.rb
[2014-06-09T13:07:37+00:00] DEBUG: Node packer-debian-7.4-amd64 loading cookbook dhcp's attribute file /vagrant/cookbooks/dhcp/attributes/default.rb
[2014-06-09T13:07:37+00:00] DEBUG: Loading Attribute dhcp::default
[2014-06-09T13:07:37+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/group.rb
[2014-06-09T13:07:37+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/group.rb into a provider named dhcp_group defined in Chef::Provider::DhcpGroup
[2014-06-09T13:07:37+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/host.rb
[2014-06-09T13:07:37+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/host.rb into a provider named dhcp_host defined in Chef::Provider::DhcpHost
[2014-06-09T13:07:37+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/subnet.rb
[2014-06-09T13:07:37+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/subnet.rb into a provider named dhcp_subnet defined in Chef::Provider::DhcpSubnet
[2014-06-09T13:07:37+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/group.rb
[2014-06-09T13:07:37+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/group.rb into a resource named dhcp_group defined in Chef::Resource::DhcpGroup
[2014-06-09T13:07:37+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/host.rb
[2014-06-09T13:07:37+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/host.rb into a resource named dhcp_host defined in Chef::Resource::DhcpHost
[2014-06-09T13:07:37+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/subnet.rb
[2014-06-09T13:07:37+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/subnet.rb into a resource named dhcp_subnet defined in Chef::Resource::DhcpSubnet
[2014-06-09T13:07:37+00:00] DEBUG: Loading Recipe dhcp::server via include_recipe
[2014-06-09T13:07:37+00:00] DEBUG: Found recipe server in cookbook dhcp
[2014-06-09T13:07:37+00:00] DEBUG: Loading Recipe helpers-databags via include_recipe
[2014-06-09T13:07:37+00:00] DEBUG: Found recipe default in cookbook helpers-databags
[2014-06-09T13:07:37+00:00] DEBUG: Loading Recipe ruby-helper via include_recipe
[2014-06-09T13:07:37+00:00] DEBUG: Found recipe default in cookbook ruby-helper
[2014-06-09T13:07:37+00:00] DEBUG: Loading Recipe dhcp::_package via include_recipe
[2014-06-09T13:07:37+00:00] DEBUG: Found recipe _package in cookbook dhcp
[2014-06-09T13:07:37+00:00] DEBUG: Loading Recipe dhcp::_service via include_recipe
[2014-06-09T13:07:37+00:00] DEBUG: Found recipe _service in cookbook dhcp
[2014-06-09T13:07:37+00:00] DEBUG: Loading Recipe dhcp::_config via include_recipe
[2014-06-09T13:07:37+00:00] DEBUG: Found recipe _config in cookbook dhcp
[2014-06-09T13:07:37+00:00] INFO: Dhcp Peer: 
[2014-06-09T13:07:37+00:00] DEBUG: Loading Recipe dhcp::_networks via include_recipe
[2014-06-09T13:07:37+00:00] DEBUG: Found recipe _networks in cookbook dhcp
[2014-06-09T13:07:37+00:00] INFO: Attribute node[:dhcp][:networks] is empty, guess you are using LWRP
[2014-06-09T13:07:37+00:00] DEBUG: Loading Recipe dhcp::_groups via include_recipe
[2014-06-09T13:07:37+00:00] DEBUG: Found recipe _groups in cookbook dhcp
[2014-06-09T13:07:38+00:00] DEBUG: Loading Recipe dhcp::_hosts via include_recipe
[2014-06-09T13:07:38+00:00] DEBUG: Found recipe _hosts in cookbook dhcp
[2014-06-09T13:07:38+00:00] DEBUG: Loading from cookbook_path: /vagrant/cookbooks
[2014-06-09T13:07:38+00:00] DEBUG: Converging node packer-debian-7.4-amd64
[2014-06-09T13:07:38+00:00] INFO: Processing package[isc-dhcp-server] action install (dhcp::_package line 3)
[2014-06-09T13:07:38+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T13:07:38+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T13:07:38+00:00] DEBUG: package[isc-dhcp-server] checking package status for isc-dhcp-server
[2014-06-09T13:07:38+00:00] DEBUG: package[isc-dhcp-server] current version is nil
[2014-06-09T13:07:38+00:00] DEBUG: package[isc-dhcp-server] candidate version is 4.2.2.dfsg.1-5+deb70u6
[0m
================================================================================[0m
[31mError executing action `install` on resource 'package[isc-dhcp-server]'[0m
================================================================================[0m

[0m
Mixlib::ShellOut::ShellCommandFailed[0m
------------------------------------[0m
Expected process to exit with [0], but received '100'
---- Begin output of apt-get -q -y install isc-dhcp-server=4.2.2.dfsg.1-5+deb70u6 ----
STDOUT: 
STDERR: E: Could not open lock file /var/lib/dpkg/lock - open (13: Permission denied)
E: Unable to lock the administration directory (/var/lib/dpkg/), are you root?
---- End output of apt-get -q -y install isc-dhcp-server=4.2.2.dfsg.1-5+deb70u6 ----
Ran apt-get -q -y install isc-dhcp-server=4.2.2.dfsg.1-5+deb70u6 returned 100[0m

[0m
Resource Declaration:[0m
---------------------[0m
# In /vagrant/cookbooks/dhcp/recipes/_package.rb

  3: package node[:dhcp][:package_name]
  4: directory node[:dhcp][:dir]
[0m

[0m
Compiled Resource:[0m
------------------[0m
# Declared in /vagrant/cookbooks/dhcp/recipes/_package.rb:3:in `from_file'

package("isc-dhcp-server") do
  action :install
  retries 0
  retry_delay 2
  guard_interpreter :default
  package_name "isc-dhcp-server"
  version "4.2.2.dfsg.1-5+deb70u6"
  cookbook_name :dhcp
  recipe_name "_package"
end
[0m

[0m
[2014-06-09T13:07:38+00:00] INFO: Running queued delayed notifications before re-raising exception
[2014-06-09T13:07:38+00:00] DEBUG: Re-raising exception: Mixlib::ShellOut::ShellCommandFailed - package[isc-dhcp-server] (dhcp::_package line 3) had an error: Mixlib::ShellOut::ShellCommandFailed: Expected process to exit with [0], but received '100'
---- Begin output of apt-get -q -y install isc-dhcp-server=4.2.2.dfsg.1-5+deb70u6 ----
STDOUT: 
STDERR: E: Could not open lock file /var/lib/dpkg/lock - open (13: Permission denied)
E: Unable to lock the administration directory (/var/lib/dpkg/), are you root?
---- End output of apt-get -q -y install isc-dhcp-server=4.2.2.dfsg.1-5+deb70u6 ----
Ran apt-get -q -y install isc-dhcp-server=4.2.2.dfsg.1-5+deb70u6 returned 100
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/mixlib-shellout-1.4.0/lib/mixlib/shellout.rb:257:in `invalid!'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/mixlib-shellout-1.4.0/lib/mixlib/shellout.rb:244:in `error!'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/shell_out.rb:43:in `shell_out!'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider/package/apt.rb:126:in `run_noninteractive'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider/package/apt.rb:94:in `install_package'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider/package.rb:82:in `block in action_install'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/why_run.rb:52:in `call'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/why_run.rb:52:in `add_action'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider.rb:155:in `converge_by'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider/package.rb:80:in `action_install'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider.rb:120:in `run_action'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/resource.rb:637:in `run_action'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:49:in `run_action'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:81:in `block (2 levels) in converge'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:81:in `each'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:81:in `block in converge'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/resource_collection.rb:98:in `block in execute_each_resource'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/resource_collection/stepable_iterator.rb:116:in `call'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/resource_collection/stepable_iterator.rb:116:in `call_iterator_block'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/resource_collection/stepable_iterator.rb:85:in `step'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/resource_collection/stepable_iterator.rb:104:in `iterate'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/resource_collection/stepable_iterator.rb:55:in `each_with_index'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/resource_collection.rb:96:in `execute_each_resource'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:80:in `converge'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:345:in `converge'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:431:in `do_run'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:213:in `block in run'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:207:in `fork'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:207:in `run'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application.rb:217:in `run_chef_client'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:221:in `block in run_application'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:213:in `loop'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:213:in `run_application'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application.rb:67:in `run'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/bin/chef-solo:25:in `<top (required)>'
  /usr/bin/chef-solo:23:in `load'
  /usr/bin/chef-solo:23:in `<main>'
[2014-06-09T13:07:38+00:00] ERROR: Running exception handlers
[2014-06-09T13:07:38+00:00] ERROR: Exception handlers complete
[2014-06-09T13:07:38+00:00] FATAL: Stacktrace dumped to /var/chef/cache/chef-stacktrace.out
[2014-06-09T13:07:38+00:00] DEBUG: Mixlib::ShellOut::ShellCommandFailed: package[isc-dhcp-server] (dhcp::_package line 3) had an error: Mixlib::ShellOut::ShellCommandFailed: Expected process to exit with [0], but received '100'
---- Begin output of apt-get -q -y install isc-dhcp-server=4.2.2.dfsg.1-5+deb70u6 ----
STDOUT: 
STDERR: E: Could not open lock file /var/lib/dpkg/lock - open (13: Permission denied)
E: Unable to lock the administration directory (/var/lib/dpkg/), are you root?
---- End output of apt-get -q -y install isc-dhcp-server=4.2.2.dfsg.1-5+deb70u6 ----
Ran apt-get -q -y install isc-dhcp-server=4.2.2.dfsg.1-5+deb70u6 returned 100
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/mixlib-shellout-1.4.0/lib/mixlib/shellout.rb:257:in `invalid!'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/mixlib-shellout-1.4.0/lib/mixlib/shellout.rb:244:in `error!'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/shell_out.rb:43:in `shell_out!'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider/package/apt.rb:126:in `run_noninteractive'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider/package/apt.rb:94:in `install_package'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider/package.rb:82:in `block in action_install'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/why_run.rb:52:in `call'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/why_run.rb:52:in `add_action'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider.rb:155:in `converge_by'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider/package.rb:80:in `action_install'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider.rb:120:in `run_action'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/resource.rb:637:in `run_action'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:49:in `run_action'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:81:in `block (2 levels) in converge'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:81:in `each'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:81:in `block in converge'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/resource_collection.rb:98:in `block in execute_each_resource'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/resource_collection/stepable_iterator.rb:116:in `call'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/resource_collection/stepable_iterator.rb:116:in `call_iterator_block'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/resource_collection/stepable_iterator.rb:85:in `step'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/resource_collection/stepable_iterator.rb:104:in `iterate'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/resource_collection/stepable_iterator.rb:55:in `each_with_index'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/resource_collection.rb:96:in `execute_each_resource'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:80:in `converge'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:345:in `converge'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:431:in `do_run'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:213:in `block in run'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:207:in `fork'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:207:in `run'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application.rb:217:in `run_chef_client'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:221:in `block in run_application'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:213:in `loop'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:213:in `run_application'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application.rb:67:in `run'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/bin/chef-solo:25:in `<top (required)>'
/usr/bin/chef-solo:23:in `load'
/usr/bin/chef-solo:23:in `<main>'
[2014-06-09T13:07:38+00:00] ERROR: package[isc-dhcp-server] (dhcp::_package line 3) had an error: Mixlib::ShellOut::ShellCommandFailed: Expected process to exit with [0], but received '100'
---- Begin output of apt-get -q -y install isc-dhcp-server=4.2.2.dfsg.1-5+deb70u6 ----
STDOUT: 
STDERR: E: Could not open lock file /var/lib/dpkg/lock - open (13: Permission denied)
E: Unable to lock the administration directory (/var/lib/dpkg/), are you root?
---- End output of apt-get -q -y install isc-dhcp-server=4.2.2.dfsg.1-5+deb70u6 ----
Ran apt-get -q -y install isc-dhcp-server=4.2.2.dfsg.1-5+deb70u6 returned 100
[2014-06-09T13:07:39+00:00] FATAL: Chef::Exceptions::ChildConvergeError: Chef run process exited unsuccessfully (exit code 1)
eth0      Link encap:Ethernet  HWaddr 08:00:27:fd:fc:ab  
          inet addr:10.0.2.15  Bcast:10.0.2.255  Mask:255.255.255.0
          inet6 addr: fe80::a00:27ff:fefd:fcab/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:12632 errors:0 dropped:0 overruns:0 frame:0
          TX packets:6448 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:6463068 (6.1 MiB)  TX bytes:503322 (491.5 KiB)

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

[2014-06-09T13:23:46+00:00] INFO: Forking chef instance to converge...
[2014-06-09T13:23:46+00:00] DEBUG: Fork successful. Waiting for new chef pid: 5512
[2014-06-09T13:23:46+00:00] DEBUG: Forked instance now converging
[2014-06-09T13:23:46+00:00] WARN: 
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 
SSL validation of HTTPS requests is disabled. HTTPS connections are still
encrypted, but chef is not able to detect forged replies or man in the middle
attacks.

To fix this issue add an entry like this to your configuration file:

```
  # Verify all HTTPS connections (recommended)
  ssl_verify_mode :verify_peer

  # OR, Verify only connections to chef-server
  verify_api_cert true
```

To check your SSL configuration, or troubleshoot errors, you can use the
`knife ssl check` command like so:

```
  knife ssl check -c solo.rb
```

* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 

[2014-06-09T13:23:46+00:00] INFO: *** Chef 11.12.8 ***
[2014-06-09T13:23:46+00:00] INFO: Chef-client pid: 5512
[2014-06-09T13:23:46+00:00] DEBUG: Chef-client request_id: a654b6e3-f0fb-4559-a38f-cedb62420491
[2014-06-09T13:24:02+00:00] DEBUG: Building node object for packer-debian-7.4-amd64
[2014-06-09T13:24:02+00:00] DEBUG: Extracting run list from JSON attributes provided on command line
[2014-06-09T13:24:02+00:00] INFO: Setting the run_list to ["recipe[dhcp::server]"] from CLI options
[2014-06-09T13:24:02+00:00] DEBUG: Applying attributes from json file
[2014-06-09T13:24:02+00:00] DEBUG: Platform is debian version 7.4
[2014-06-09T13:24:02+00:00] INFO: Run List is [recipe[dhcp::server]]
[2014-06-09T13:24:02+00:00] INFO: Run List expands to [dhcp::server]
[2014-06-09T13:24:02+00:00] INFO: Starting Chef Run for packer-debian-7.4-amd64
[2014-06-09T13:24:02+00:00] INFO: Running start handlers
[2014-06-09T13:24:02+00:00] INFO: Start handlers complete.
[2014-06-09T13:24:02+00:00] DEBUG: No chefignore file found at /vagrant/chefignore no files will be ignored
[2014-06-09T13:24:02+00:00] DEBUG: Cookbooks to compile: [:"helpers-databags", :"ruby-helper", :dhcp]
[2014-06-09T13:24:02+00:00] DEBUG: Loading cookbook helpers-databags's library file: /vagrant/cookbooks/helpers-databags/libraries/helpers_databags.rb
[2014-06-09T13:24:02+00:00] DEBUG: Loading cookbook ruby-helper's library file: /vagrant/cookbooks/ruby-helper/libraries/object.rb
[2014-06-09T13:24:02+00:00] DEBUG: Loading cookbook dhcp's library file: /vagrant/cookbooks/dhcp/libraries/dynadns.rb
[2014-06-09T13:24:02+00:00] DEBUG: Loading cookbook dhcp's library file: /vagrant/cookbooks/dhcp/libraries/failover.rb
[2014-06-09T13:24:02+00:00] DEBUG: Node packer-debian-7.4-amd64 loading cookbook dhcp's attribute file /vagrant/cookbooks/dhcp/attributes/default.rb
[2014-06-09T13:24:02+00:00] DEBUG: Loading Attribute dhcp::default
[2014-06-09T13:24:02+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/group.rb
[2014-06-09T13:24:02+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/group.rb into a provider named dhcp_group defined in Chef::Provider::DhcpGroup
[2014-06-09T13:24:02+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/host.rb
[2014-06-09T13:24:02+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/host.rb into a provider named dhcp_host defined in Chef::Provider::DhcpHost
[2014-06-09T13:24:02+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/subnet.rb
[2014-06-09T13:24:02+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/subnet.rb into a provider named dhcp_subnet defined in Chef::Provider::DhcpSubnet
[2014-06-09T13:24:02+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/group.rb
[2014-06-09T13:24:02+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/group.rb into a resource named dhcp_group defined in Chef::Resource::DhcpGroup
[2014-06-09T13:24:02+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/host.rb
[2014-06-09T13:24:02+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/host.rb into a resource named dhcp_host defined in Chef::Resource::DhcpHost
[2014-06-09T13:24:02+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/subnet.rb
[2014-06-09T13:24:02+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/subnet.rb into a resource named dhcp_subnet defined in Chef::Resource::DhcpSubnet
[2014-06-09T13:24:02+00:00] DEBUG: Loading Recipe dhcp::server via include_recipe
[2014-06-09T13:24:02+00:00] DEBUG: Found recipe server in cookbook dhcp
[2014-06-09T13:24:02+00:00] DEBUG: Loading Recipe helpers-databags via include_recipe
[2014-06-09T13:24:02+00:00] DEBUG: Found recipe default in cookbook helpers-databags
[2014-06-09T13:24:02+00:00] DEBUG: Loading Recipe ruby-helper via include_recipe
[2014-06-09T13:24:02+00:00] DEBUG: Found recipe default in cookbook ruby-helper
[2014-06-09T13:24:02+00:00] DEBUG: Loading Recipe dhcp::_package via include_recipe
[2014-06-09T13:24:02+00:00] DEBUG: Found recipe _package in cookbook dhcp
[2014-06-09T13:24:03+00:00] DEBUG: Loading Recipe dhcp::_service via include_recipe
[2014-06-09T13:24:03+00:00] DEBUG: Found recipe _service in cookbook dhcp
[2014-06-09T13:24:03+00:00] DEBUG: Loading Recipe dhcp::_config via include_recipe
[2014-06-09T13:24:03+00:00] DEBUG: Found recipe _config in cookbook dhcp
[2014-06-09T13:24:03+00:00] INFO: Dhcp Peer: 
[2014-06-09T13:24:03+00:00] DEBUG: Loading Recipe dhcp::_networks via include_recipe
[2014-06-09T13:24:03+00:00] DEBUG: Found recipe _networks in cookbook dhcp
[2014-06-09T13:24:03+00:00] INFO: Attribute node[:dhcp][:networks] is empty, guess you are using LWRP
[2014-06-09T13:24:03+00:00] DEBUG: Loading Recipe dhcp::_groups via include_recipe
[2014-06-09T13:24:03+00:00] DEBUG: Found recipe _groups in cookbook dhcp
[2014-06-09T13:24:03+00:00] DEBUG: Loading Recipe dhcp::_hosts via include_recipe
[2014-06-09T13:24:03+00:00] DEBUG: Found recipe _hosts in cookbook dhcp
[2014-06-09T13:24:03+00:00] DEBUG: Loading from cookbook_path: /vagrant/cookbooks
[2014-06-09T13:24:03+00:00] DEBUG: Converging node packer-debian-7.4-amd64
[2014-06-09T13:24:03+00:00] INFO: Processing package[isc-dhcp-server] action install (dhcp::_package line 3)
[2014-06-09T13:24:03+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T13:24:03+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T13:24:03+00:00] DEBUG: package[isc-dhcp-server] checking package status for isc-dhcp-server
[2014-06-09T13:24:03+00:00] DEBUG: package[isc-dhcp-server] current version is nil
[2014-06-09T13:24:03+00:00] DEBUG: package[isc-dhcp-server] candidate version is 4.2.2.dfsg.1-5+deb70u6
[2014-06-09T13:24:33+00:00] INFO: Processing directory[/etc/dhcp] action create (dhcp::_package line 4)
[2014-06-09T13:24:33+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T13:24:33+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T13:24:33+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T13:24:33+00:00] INFO: Processing service[isc-dhcp-server] action enable (dhcp::_service line 3)
[2014-06-09T13:24:33+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T13:24:33+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T13:24:33+00:00] DEBUG: service[isc-dhcp-server] supports status, running
[2014-06-09T13:24:33+00:00] DEBUG: service[isc-dhcp-server] already enabled - nothing to do
[2014-06-09T13:24:33+00:00] INFO: Processing template[/etc/default/isc-dhcp-server] action create (dhcp::_service line 15)
[2014-06-09T13:24:33+00:00] DEBUG: template[/etc/default/isc-dhcp-server] checksumming file at /etc/default/isc-dhcp-server.
[2014-06-09T13:24:33+00:00] DEBUG: calculating checksum of /tmp/chef-rendered-template20140609-5512-1fh6wb4 to compare with 2f2c75dd85858c34f5768a9f83d75aa7a7cb1bc61ecf2adfedbf0e0f0d17b407
[2014-06-09T13:24:33+00:00] DEBUG: running: diff -u /etc/default/isc-dhcp-server /tmp/chef-rendered-template20140609-5512-1fh6wb4
[2014-06-09T13:24:33+00:00] INFO: template[/etc/default/isc-dhcp-server] backed up to /var/chef/backup/etc/default/isc-dhcp-server.chef-20140609132433.711492
[2014-06-09T13:24:33+00:00] DEBUG: reading modes from /etc/default/isc-dhcp-server file
[2014-06-09T13:24:33+00:00] DEBUG: applying mode = 644, uid = 0, gid = 0 to /tmp/chef-rendered-template20140609-5512-1fh6wb4
[2014-06-09T13:24:33+00:00] DEBUG: moving temporary file /tmp/chef-rendered-template20140609-5512-1fh6wb4 into place at /etc/default/isc-dhcp-server
[2014-06-09T13:24:33+00:00] INFO: template[/etc/default/isc-dhcp-server] updated file contents /etc/default/isc-dhcp-server
[2014-06-09T13:24:33+00:00] DEBUG: found target_mode == current_mode, not updating mode
[2014-06-09T13:24:33+00:00] DEBUG: found target_uid == current_uid, not updating owner
[2014-06-09T13:24:33+00:00] DEBUG: found target_gid == current_gid, not updating group
[2014-06-09T13:24:33+00:00] DEBUG: selinux utilities can not be found. Skipping selinux permission fixup.
[2014-06-09T13:24:33+00:00] INFO: Processing template[/etc/dhcp/dhcpd.conf] action create (dhcp::_config line 9)
[2014-06-09T13:24:33+00:00] DEBUG: template[/etc/dhcp/dhcpd.conf] checksumming file at /etc/dhcp/dhcpd.conf.
[2014-06-09T13:24:33+00:00] DEBUG: calculating checksum of /tmp/chef-rendered-template20140609-5512-1vjnpyy to compare with 70a8b115f907a8665b7e0e70ad68fab5544a9c0a6fd88599e4c628acf44dd37b
[2014-06-09T13:24:33+00:00] DEBUG: running: diff -u /etc/dhcp/dhcpd.conf /tmp/chef-rendered-template20140609-5512-1vjnpyy
[2014-06-09T13:24:33+00:00] INFO: template[/etc/dhcp/dhcpd.conf] backed up to /var/chef/backup/etc/dhcp/dhcpd.conf.chef-20140609132433.754263
[2014-06-09T13:24:33+00:00] DEBUG: reading modes from /etc/dhcp/dhcpd.conf file
[2014-06-09T13:24:33+00:00] DEBUG: applying mode = 644, uid = 0, gid = 0 to /tmp/chef-rendered-template20140609-5512-1vjnpyy
[2014-06-09T13:24:33+00:00] DEBUG: moving temporary file /tmp/chef-rendered-template20140609-5512-1vjnpyy into place at /etc/dhcp/dhcpd.conf
[2014-06-09T13:24:33+00:00] INFO: template[/etc/dhcp/dhcpd.conf] updated file contents /etc/dhcp/dhcpd.conf
[2014-06-09T13:24:33+00:00] DEBUG: found target_mode == current_mode, not updating mode
[2014-06-09T13:24:33+00:00] DEBUG: found target_uid == current_uid, not updating owner
[2014-06-09T13:24:33+00:00] DEBUG: found target_gid == current_gid, not updating group
[2014-06-09T13:24:33+00:00] DEBUG: selinux utilities can not be found. Skipping selinux permission fixup.
[2014-06-09T13:24:33+00:00] INFO: Processing directory[/etc/dhcp/groups.d] action create (dhcp::_config line 52)
[2014-06-09T13:24:33+00:00] INFO: directory[/etc/dhcp/groups.d] created directory /etc/dhcp/groups.d
[2014-06-09T13:24:33+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T13:24:33+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T13:24:33+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T13:24:33+00:00] DEBUG: selinux utilities can not be found. Skipping selinux permission fixup.
[2014-06-09T13:24:33+00:00] INFO: Processing file[/etc/dhcp/groups.d/list.conf] action create_if_missing (dhcp::_config line 53)
[2014-06-09T13:24:33+00:00] DEBUG: touching /etc/dhcp/groups.d/list.conf to create it
[2014-06-09T13:24:33+00:00] INFO: file[/etc/dhcp/groups.d/list.conf] created file /etc/dhcp/groups.d/list.conf
[2014-06-09T13:24:33+00:00] DEBUG: calculating checksum of /tmp/.list.conf20140609-5512-1c0uw1j to compare with 
[2014-06-09T13:24:33+00:00] DEBUG: running: diff -u /etc/dhcp/groups.d/list.conf /tmp/.list.conf20140609-5512-1c0uw1j
[2014-06-09T13:24:33+00:00] DEBUG: reading modes from /etc/dhcp/groups.d/list.conf file
[2014-06-09T13:24:33+00:00] DEBUG: applying mode = 644, uid = 0, gid = 0 to /tmp/.list.conf20140609-5512-1c0uw1j
[2014-06-09T13:24:33+00:00] DEBUG: moving temporary file /tmp/.list.conf20140609-5512-1c0uw1j into place at /etc/dhcp/groups.d/list.conf
[2014-06-09T13:24:33+00:00] INFO: file[/etc/dhcp/groups.d/list.conf] updated file contents /etc/dhcp/groups.d/list.conf
[2014-06-09T13:24:33+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T13:24:33+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T13:24:33+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T13:24:33+00:00] DEBUG: selinux utilities can not be found. Skipping selinux permission fixup.
[2014-06-09T13:24:33+00:00] INFO: Processing directory[/etc/dhcp/hosts.d] action create (dhcp::_config line 52)
[2014-06-09T13:24:33+00:00] INFO: directory[/etc/dhcp/hosts.d] created directory /etc/dhcp/hosts.d
[2014-06-09T13:24:33+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T13:24:33+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T13:24:33+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T13:24:33+00:00] DEBUG: selinux utilities can not be found. Skipping selinux permission fixup.
[2014-06-09T13:24:33+00:00] INFO: Processing file[/etc/dhcp/hosts.d/list.conf] action create_if_missing (dhcp::_config line 53)
[2014-06-09T13:24:33+00:00] DEBUG: touching /etc/dhcp/hosts.d/list.conf to create it
[2014-06-09T13:24:33+00:00] INFO: file[/etc/dhcp/hosts.d/list.conf] created file /etc/dhcp/hosts.d/list.conf
[2014-06-09T13:24:33+00:00] DEBUG: calculating checksum of /tmp/.list.conf20140609-5512-ym4906 to compare with 
[2014-06-09T13:24:33+00:00] DEBUG: running: diff -u /etc/dhcp/hosts.d/list.conf /tmp/.list.conf20140609-5512-ym4906
[2014-06-09T13:24:33+00:00] DEBUG: reading modes from /etc/dhcp/hosts.d/list.conf file
[2014-06-09T13:24:33+00:00] DEBUG: applying mode = 644, uid = 0, gid = 0 to /tmp/.list.conf20140609-5512-ym4906
[2014-06-09T13:24:33+00:00] DEBUG: moving temporary file /tmp/.list.conf20140609-5512-ym4906 into place at /etc/dhcp/hosts.d/list.conf
[2014-06-09T13:24:33+00:00] INFO: file[/etc/dhcp/hosts.d/list.conf] updated file contents /etc/dhcp/hosts.d/list.conf
[2014-06-09T13:24:33+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T13:24:33+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T13:24:33+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T13:24:33+00:00] DEBUG: selinux utilities can not be found. Skipping selinux permission fixup.
[2014-06-09T13:24:33+00:00] INFO: Processing directory[/etc/dhcp/subnets.d] action create (dhcp::_config line 52)
[2014-06-09T13:24:33+00:00] INFO: directory[/etc/dhcp/subnets.d] created directory /etc/dhcp/subnets.d
[2014-06-09T13:24:33+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T13:24:33+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T13:24:33+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T13:24:33+00:00] DEBUG: selinux utilities can not be found. Skipping selinux permission fixup.
[2014-06-09T13:24:33+00:00] INFO: Processing file[/etc/dhcp/subnets.d/list.conf] action create_if_missing (dhcp::_config line 53)
[2014-06-09T13:24:33+00:00] DEBUG: touching /etc/dhcp/subnets.d/list.conf to create it
[2014-06-09T13:24:33+00:00] INFO: file[/etc/dhcp/subnets.d/list.conf] created file /etc/dhcp/subnets.d/list.conf
[2014-06-09T13:24:33+00:00] DEBUG: calculating checksum of /tmp/.list.conf20140609-5512-78xq9n to compare with 
[2014-06-09T13:24:33+00:00] DEBUG: running: diff -u /etc/dhcp/subnets.d/list.conf /tmp/.list.conf20140609-5512-78xq9n
[2014-06-09T13:24:33+00:00] DEBUG: reading modes from /etc/dhcp/subnets.d/list.conf file
[2014-06-09T13:24:33+00:00] DEBUG: applying mode = 644, uid = 0, gid = 0 to /tmp/.list.conf20140609-5512-78xq9n
[2014-06-09T13:24:33+00:00] DEBUG: moving temporary file /tmp/.list.conf20140609-5512-78xq9n into place at /etc/dhcp/subnets.d/list.conf
[2014-06-09T13:24:33+00:00] INFO: file[/etc/dhcp/subnets.d/list.conf] updated file contents /etc/dhcp/subnets.d/list.conf
[2014-06-09T13:24:33+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T13:24:33+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T13:24:33+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T13:24:33+00:00] DEBUG: selinux utilities can not be found. Skipping selinux permission fixup.
[2014-06-09T13:24:33+00:00] INFO: template[/etc/dhcp/dhcpd.conf] sending restart action to service[isc-dhcp-server] (delayed)
[2014-06-09T13:24:33+00:00] INFO: Processing service[isc-dhcp-server] action restart (dhcp::_service line 3)
[2014-06-09T13:24:33+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T13:24:33+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T13:24:33+00:00] DEBUG: service[isc-dhcp-server] supports status, running
[0m
================================================================================[0m
[31mError executing action `restart` on resource 'service[isc-dhcp-server]'[0m
================================================================================[0m

[0m
Mixlib::ShellOut::ShellCommandFailed[0m
------------------------------------[0m
Expected process to exit with [0], but received '1'
---- Begin output of /etc/init.d/isc-dhcp-server restart ----
STDOUT: Stopping ISC DHCP server: dhcpd failed!
Starting ISC DHCP server: dhcpdcheck syslog for diagnostics. ... failed!
 failed!
STDERR: 
---- End output of /etc/init.d/isc-dhcp-server restart ----
Ran /etc/init.d/isc-dhcp-server restart returned 1[0m

[0m
Resource Declaration:[0m
---------------------[0m
# In /vagrant/cookbooks/dhcp/recipes/_service.rb

  3: service node[:dhcp][:service_name] do
  4:   supports restart: true, status: true, reload: true
  5:   action [:enable]
  6:   # use upstart on ubuntu > 9.10
  7:   case node[:platform]
  8:   when 'ubuntu'
  9:     if node[:platform_version].to_f >= 9.10
 10:       provider Chef::Provider::Service::Upstart
 11:     end
 12:   end
[0m

[0m
Compiled Resource:[0m
------------------[0m
# Declared in /vagrant/cookbooks/dhcp/recipes/_service.rb:3:in `from_file'

service("isc-dhcp-server") do
  action [:enable]
  supports {:restart=>true, :status=>true, :reload=>true}
  retries 0
  retry_delay 2
  guard_interpreter :default
  service_name "isc-dhcp-server"
  enabled true
  pattern "isc-dhcp-server"
  cookbook_name :dhcp
  recipe_name "_service"
end
[0m

[0m
[2014-06-09T13:24:38+00:00] DEBUG: Re-raising exception: Mixlib::ShellOut::ShellCommandFailed - service[isc-dhcp-server] (dhcp::_service line 3) had an error: Mixlib::ShellOut::ShellCommandFailed: Expected process to exit with [0], but received '1'
---- Begin output of /etc/init.d/isc-dhcp-server restart ----
STDOUT: Stopping ISC DHCP server: dhcpd failed!
Starting ISC DHCP server: dhcpdcheck syslog for diagnostics. ... failed!
 failed!
STDERR: 
---- End output of /etc/init.d/isc-dhcp-server restart ----
Ran /etc/init.d/isc-dhcp-server restart returned 1
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/mixlib-shellout-1.4.0/lib/mixlib/shellout.rb:257:in `invalid!'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/mixlib-shellout-1.4.0/lib/mixlib/shellout.rb:244:in `error!'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/shell_out.rb:43:in `shell_out!'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider/service/init.rb:71:in `restart_service'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider/service.rb:115:in `block in action_restart'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/why_run.rb:52:in `call'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/why_run.rb:52:in `add_action'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider.rb:155:in `converge_by'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider/service.rb:114:in `action_restart'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider.rb:120:in `run_action'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/resource.rb:637:in `run_action'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:49:in `run_action'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:111:in `run_delayed_notification'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:99:in `block in run_delayed_notifications'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:98:in `each'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:98:in `run_delayed_notifications'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:88:in `converge'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:345:in `converge'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:431:in `do_run'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:213:in `block in run'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:207:in `fork'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:207:in `run'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application.rb:217:in `run_chef_client'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:221:in `block in run_application'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:213:in `loop'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:213:in `run_application'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application.rb:67:in `run'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/bin/chef-solo:25:in `<top (required)>'
  /usr/bin/chef-solo:23:in `load'
  /usr/bin/chef-solo:23:in `<main>'
[2014-06-09T13:24:38+00:00] ERROR: Running exception handlers
[2014-06-09T13:24:38+00:00] ERROR: Exception handlers complete
[2014-06-09T13:24:38+00:00] FATAL: Stacktrace dumped to /var/chef/cache/chef-stacktrace.out
[2014-06-09T13:24:38+00:00] DEBUG: Mixlib::ShellOut::ShellCommandFailed: service[isc-dhcp-server] (dhcp::_service line 3) had an error: Mixlib::ShellOut::ShellCommandFailed: Expected process to exit with [0], but received '1'
---- Begin output of /etc/init.d/isc-dhcp-server restart ----
STDOUT: Stopping ISC DHCP server: dhcpd failed!
Starting ISC DHCP server: dhcpdcheck syslog for diagnostics. ... failed!
 failed!
STDERR: 
---- End output of /etc/init.d/isc-dhcp-server restart ----
Ran /etc/init.d/isc-dhcp-server restart returned 1
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/mixlib-shellout-1.4.0/lib/mixlib/shellout.rb:257:in `invalid!'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/mixlib-shellout-1.4.0/lib/mixlib/shellout.rb:244:in `error!'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/shell_out.rb:43:in `shell_out!'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider/service/init.rb:71:in `restart_service'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider/service.rb:115:in `block in action_restart'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/why_run.rb:52:in `call'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/why_run.rb:52:in `add_action'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider.rb:155:in `converge_by'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider/service.rb:114:in `action_restart'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider.rb:120:in `run_action'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/resource.rb:637:in `run_action'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:49:in `run_action'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:111:in `run_delayed_notification'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:99:in `block in run_delayed_notifications'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:98:in `each'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:98:in `run_delayed_notifications'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:88:in `converge'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:345:in `converge'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:431:in `do_run'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:213:in `block in run'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:207:in `fork'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:207:in `run'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application.rb:217:in `run_chef_client'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:221:in `block in run_application'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:213:in `loop'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:213:in `run_application'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application.rb:67:in `run'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/bin/chef-solo:25:in `<top (required)>'
/usr/bin/chef-solo:23:in `load'
/usr/bin/chef-solo:23:in `<main>'
[2014-06-09T13:24:38+00:00] ERROR: service[isc-dhcp-server] (dhcp::_service line 3) had an error: Mixlib::ShellOut::ShellCommandFailed: Expected process to exit with [0], but received '1'
---- Begin output of /etc/init.d/isc-dhcp-server restart ----
STDOUT: Stopping ISC DHCP server: dhcpd failed!
Starting ISC DHCP server: dhcpdcheck syslog for diagnostics. ... failed!
 failed!
STDERR: 
---- End output of /etc/init.d/isc-dhcp-server restart ----
Ran /etc/init.d/isc-dhcp-server restart returned 1
[2014-06-09T13:24:38+00:00] FATAL: Chef::Exceptions::ChildConvergeError: Chef run process exited unsuccessfully (exit code 1)
eth0      Link encap:Ethernet  HWaddr 08:00:27:fd:fc:ab  
          inet addr:10.0.2.15  Bcast:10.0.2.255  Mask:255.255.255.0
          inet6 addr: fe80::a00:27ff:fefd:fcab/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:14351 errors:0 dropped:0 overruns:0 frame:0
          TX packets:7395 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:7503648 (7.1 MiB)  TX bytes:573191 (559.7 KiB)

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

[2014-06-09T13:38:33+00:00] INFO: Forking chef instance to converge...
[2014-06-09T13:38:33+00:00] DEBUG: Fork successful. Waiting for new chef pid: 5924
[2014-06-09T13:38:33+00:00] DEBUG: Forked instance now converging
[2014-06-09T13:38:33+00:00] WARN: 
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 
SSL validation of HTTPS requests is disabled. HTTPS connections are still
encrypted, but chef is not able to detect forged replies or man in the middle
attacks.

To fix this issue add an entry like this to your configuration file:

```
  # Verify all HTTPS connections (recommended)
  ssl_verify_mode :verify_peer

  # OR, Verify only connections to chef-server
  verify_api_cert true
```

To check your SSL configuration, or troubleshoot errors, you can use the
`knife ssl check` command like so:

```
  knife ssl check -c solo.rb
```

* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 

[2014-06-09T13:38:33+00:00] INFO: *** Chef 11.12.8 ***
[2014-06-09T13:38:33+00:00] INFO: Chef-client pid: 5924
[2014-06-09T13:38:33+00:00] DEBUG: Chef-client request_id: 111bec7d-ba50-4d57-8175-564a0dd54396
[2014-06-09T13:38:50+00:00] DEBUG: Building node object for packer-debian-7.4-amd64
[2014-06-09T13:38:50+00:00] DEBUG: Extracting run list from JSON attributes provided on command line
[2014-06-09T13:38:50+00:00] INFO: Setting the run_list to ["recipe[dhcp::server]"] from CLI options
[2014-06-09T13:38:50+00:00] DEBUG: Applying attributes from json file
[2014-06-09T13:38:50+00:00] DEBUG: Platform is debian version 7.4
[2014-06-09T13:38:50+00:00] INFO: Run List is [recipe[dhcp::server]]
[2014-06-09T13:38:50+00:00] INFO: Run List expands to [dhcp::server]
[2014-06-09T13:38:50+00:00] INFO: Starting Chef Run for packer-debian-7.4-amd64
[2014-06-09T13:38:50+00:00] INFO: Running start handlers
[2014-06-09T13:38:50+00:00] INFO: Start handlers complete.
[2014-06-09T13:38:50+00:00] DEBUG: No chefignore file found at /vagrant/chefignore no files will be ignored
[2014-06-09T13:38:51+00:00] DEBUG: Cookbooks to compile: [:"helpers-databags", :"ruby-helper", :dhcp]
[2014-06-09T13:38:51+00:00] DEBUG: Loading cookbook helpers-databags's library file: /vagrant/cookbooks/helpers-databags/libraries/helpers_databags.rb
[2014-06-09T13:38:51+00:00] DEBUG: Loading cookbook ruby-helper's library file: /vagrant/cookbooks/ruby-helper/libraries/object.rb
[2014-06-09T13:38:51+00:00] DEBUG: Loading cookbook dhcp's library file: /vagrant/cookbooks/dhcp/libraries/dynadns.rb
[2014-06-09T13:38:51+00:00] DEBUG: Loading cookbook dhcp's library file: /vagrant/cookbooks/dhcp/libraries/failover.rb
[2014-06-09T13:38:51+00:00] DEBUG: Node packer-debian-7.4-amd64 loading cookbook dhcp's attribute file /vagrant/cookbooks/dhcp/attributes/default.rb
[2014-06-09T13:38:51+00:00] DEBUG: Loading Attribute dhcp::default
[2014-06-09T13:38:51+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/group.rb
[2014-06-09T13:38:51+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/group.rb into a provider named dhcp_group defined in Chef::Provider::DhcpGroup
[2014-06-09T13:38:51+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/host.rb
[2014-06-09T13:38:51+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/host.rb into a provider named dhcp_host defined in Chef::Provider::DhcpHost
[2014-06-09T13:38:51+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/subnet.rb
[2014-06-09T13:38:51+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/subnet.rb into a provider named dhcp_subnet defined in Chef::Provider::DhcpSubnet
[2014-06-09T13:38:51+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/group.rb
[2014-06-09T13:38:51+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/group.rb into a resource named dhcp_group defined in Chef::Resource::DhcpGroup
[2014-06-09T13:38:51+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/host.rb
[2014-06-09T13:38:51+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/host.rb into a resource named dhcp_host defined in Chef::Resource::DhcpHost
[2014-06-09T13:38:51+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/subnet.rb
[2014-06-09T13:38:51+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/subnet.rb into a resource named dhcp_subnet defined in Chef::Resource::DhcpSubnet
[2014-06-09T13:38:51+00:00] DEBUG: Loading Recipe dhcp::server via include_recipe
[2014-06-09T13:38:51+00:00] DEBUG: Found recipe server in cookbook dhcp
[2014-06-09T13:38:51+00:00] DEBUG: Loading Recipe helpers-databags via include_recipe
[2014-06-09T13:38:51+00:00] DEBUG: Found recipe default in cookbook helpers-databags
[2014-06-09T13:38:51+00:00] DEBUG: Loading Recipe ruby-helper via include_recipe
[2014-06-09T13:38:51+00:00] DEBUG: Found recipe default in cookbook ruby-helper
[2014-06-09T13:38:51+00:00] DEBUG: Loading Recipe dhcp::_package via include_recipe
[2014-06-09T13:38:51+00:00] DEBUG: Found recipe _package in cookbook dhcp
[2014-06-09T13:38:51+00:00] DEBUG: Loading Recipe dhcp::_service via include_recipe
[2014-06-09T13:38:51+00:00] DEBUG: Found recipe _service in cookbook dhcp
[2014-06-09T13:38:51+00:00] DEBUG: Loading Recipe dhcp::_config via include_recipe
[2014-06-09T13:38:51+00:00] DEBUG: Found recipe _config in cookbook dhcp
[2014-06-09T13:38:51+00:00] INFO: Dhcp Peer: 
[2014-06-09T13:38:51+00:00] DEBUG: Loading Recipe dhcp::_networks via include_recipe
[2014-06-09T13:38:51+00:00] DEBUG: Found recipe _networks in cookbook dhcp
[2014-06-09T13:38:51+00:00] INFO: Attribute node[:dhcp][:networks] is empty, guess you are using LWRP
[2014-06-09T13:38:51+00:00] DEBUG: Loading Recipe dhcp::_groups via include_recipe
[2014-06-09T13:38:51+00:00] DEBUG: Found recipe _groups in cookbook dhcp
[2014-06-09T13:38:51+00:00] DEBUG: Loading Recipe dhcp::_hosts via include_recipe
[2014-06-09T13:38:51+00:00] DEBUG: Found recipe _hosts in cookbook dhcp
[2014-06-09T13:38:51+00:00] DEBUG: Loading from cookbook_path: /vagrant/cookbooks
[2014-06-09T13:38:51+00:00] DEBUG: Converging node packer-debian-7.4-amd64
[2014-06-09T13:38:51+00:00] INFO: Processing package[isc-dhcp-server] action install (dhcp::_package line 3)
[2014-06-09T13:38:51+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T13:38:51+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T13:38:51+00:00] DEBUG: package[isc-dhcp-server] checking package status for isc-dhcp-server
[2014-06-09T13:38:51+00:00] DEBUG: package[isc-dhcp-server] current version is 4.2.2.dfsg.1-5+deb70u6
[2014-06-09T13:38:51+00:00] DEBUG: package[isc-dhcp-server] candidate version is 4.2.2.dfsg.1-5+deb70u6
[2014-06-09T13:38:51+00:00] DEBUG: package[isc-dhcp-server] is already installed - nothing to do
[2014-06-09T13:38:51+00:00] INFO: Processing directory[/etc/dhcp] action create (dhcp::_package line 4)
[2014-06-09T13:38:51+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T13:38:51+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T13:38:51+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T13:38:51+00:00] INFO: Processing service[isc-dhcp-server] action enable (dhcp::_service line 3)
[2014-06-09T13:38:51+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T13:38:51+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T13:38:51+00:00] DEBUG: service[isc-dhcp-server] supports status, running
[2014-06-09T13:38:52+00:00] DEBUG: service[isc-dhcp-server] already enabled - nothing to do
[2014-06-09T13:38:52+00:00] INFO: Processing template[/etc/default/isc-dhcp-server] action create (dhcp::_service line 15)
[2014-06-09T13:38:52+00:00] DEBUG: template[/etc/default/isc-dhcp-server] checksumming file at /etc/default/isc-dhcp-server.
[2014-06-09T13:38:52+00:00] DEBUG: calculating checksum of /tmp/chef-rendered-template20140609-5924-ikqpzn to compare with 5d47f2278b452868b3528dc6ec0e86287d071f45e5a62d38981d6363780fbd7d
[2014-06-09T13:38:52+00:00] DEBUG: found target_mode == current_mode, not updating mode
[2014-06-09T13:38:52+00:00] DEBUG: found target_uid == current_uid, not updating owner
[2014-06-09T13:38:52+00:00] DEBUG: found target_gid == current_gid, not updating group
[2014-06-09T13:38:52+00:00] INFO: Processing template[/etc/dhcp/dhcpd.conf] action create (dhcp::_config line 9)
[2014-06-09T13:38:52+00:00] DEBUG: template[/etc/dhcp/dhcpd.conf] checksumming file at /etc/dhcp/dhcpd.conf.
[2014-06-09T13:38:52+00:00] DEBUG: calculating checksum of /tmp/chef-rendered-template20140609-5924-1vohmvz to compare with 0841052baa94b599241caa75717643572ea3df312603e3927690890d142d99ee
[2014-06-09T13:38:52+00:00] DEBUG: found target_mode == current_mode, not updating mode
[2014-06-09T13:38:52+00:00] DEBUG: found target_uid == current_uid, not updating owner
[2014-06-09T13:38:52+00:00] DEBUG: found target_gid == current_gid, not updating group
[2014-06-09T13:38:52+00:00] INFO: Processing directory[/etc/dhcp/groups.d] action create (dhcp::_config line 52)
[2014-06-09T13:38:52+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T13:38:52+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T13:38:52+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T13:38:52+00:00] INFO: Processing file[/etc/dhcp/groups.d/list.conf] action create_if_missing (dhcp::_config line 53)
[2014-06-09T13:38:52+00:00] DEBUG: file[/etc/dhcp/groups.d/list.conf] exists at /etc/dhcp/groups.d/list.conf taking no action.
[2014-06-09T13:38:52+00:00] INFO: Processing directory[/etc/dhcp/hosts.d] action create (dhcp::_config line 52)
[2014-06-09T13:38:52+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T13:38:52+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T13:38:52+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T13:38:52+00:00] INFO: Processing file[/etc/dhcp/hosts.d/list.conf] action create_if_missing (dhcp::_config line 53)
[2014-06-09T13:38:52+00:00] DEBUG: file[/etc/dhcp/hosts.d/list.conf] exists at /etc/dhcp/hosts.d/list.conf taking no action.
[2014-06-09T13:38:52+00:00] INFO: Processing directory[/etc/dhcp/subnets.d] action create (dhcp::_config line 52)
[2014-06-09T13:38:52+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T13:38:52+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T13:38:52+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T13:38:52+00:00] INFO: Processing file[/etc/dhcp/subnets.d/list.conf] action create_if_missing (dhcp::_config line 53)
[2014-06-09T13:38:52+00:00] DEBUG: file[/etc/dhcp/subnets.d/list.conf] exists at /etc/dhcp/subnets.d/list.conf taking no action.
[2014-06-09T13:38:52+00:00] INFO: Chef Run complete in 1.791681942 seconds
[2014-06-09T13:38:52+00:00] INFO: Running report handlers
[2014-06-09T13:38:52+00:00] INFO: Report handlers complete
[2014-06-09T13:38:52+00:00] DEBUG: Forked instance successfully reaped (pid: 5924)
[2014-06-09T13:38:52+00:00] DEBUG: Exiting
eth0      Link encap:Ethernet  HWaddr 08:00:27:fd:fc:ab  
          inet addr:10.0.2.15  Bcast:10.0.2.255  Mask:255.255.255.0
          inet6 addr: fe80::a00:27ff:fefd:fcab/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:14906 errors:0 dropped:0 overruns:0 frame:0
          TX packets:7752 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:7542884 (7.1 MiB)  TX bytes:610374 (596.0 KiB)

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

[2014-06-09T13:57:26+00:00] INFO: Forking chef instance to converge...
[2014-06-09T13:57:26+00:00] DEBUG: Fork successful. Waiting for new chef pid: 6106
[2014-06-09T13:57:26+00:00] DEBUG: Forked instance now converging
[2014-06-09T13:57:26+00:00] WARN: 
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 
SSL validation of HTTPS requests is disabled. HTTPS connections are still
encrypted, but chef is not able to detect forged replies or man in the middle
attacks.

To fix this issue add an entry like this to your configuration file:

```
  # Verify all HTTPS connections (recommended)
  ssl_verify_mode :verify_peer

  # OR, Verify only connections to chef-server
  verify_api_cert true
```

To check your SSL configuration, or troubleshoot errors, you can use the
`knife ssl check` command like so:

```
  knife ssl check -c solo.rb
```

* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 

[2014-06-09T13:57:26+00:00] INFO: *** Chef 11.12.8 ***
[2014-06-09T13:57:26+00:00] INFO: Chef-client pid: 6106
[2014-06-09T13:57:26+00:00] DEBUG: Chef-client request_id: 817d7310-8528-49f1-a5c1-af01ed7dd5c4
[2014-06-09T13:57:42+00:00] DEBUG: Building node object for packer-debian-7.4-amd64
[2014-06-09T13:57:42+00:00] DEBUG: Extracting run list from JSON attributes provided on command line
[2014-06-09T13:57:42+00:00] INFO: Setting the run_list to ["recipe[dhcp::server]"] from CLI options
[2014-06-09T13:57:42+00:00] DEBUG: Applying attributes from json file
[2014-06-09T13:57:42+00:00] DEBUG: Platform is debian version 7.4
[2014-06-09T13:57:42+00:00] INFO: Run List is [recipe[dhcp::server]]
[2014-06-09T13:57:42+00:00] INFO: Run List expands to [dhcp::server]
[2014-06-09T13:57:42+00:00] INFO: Starting Chef Run for packer-debian-7.4-amd64
[2014-06-09T13:57:42+00:00] INFO: Running start handlers
[2014-06-09T13:57:42+00:00] INFO: Start handlers complete.
[2014-06-09T13:57:42+00:00] DEBUG: No chefignore file found at /vagrant/chefignore no files will be ignored
[2014-06-09T13:57:42+00:00] DEBUG: Cookbooks to compile: [:"helpers-databags", :"ruby-helper", :dhcp]
[2014-06-09T13:57:42+00:00] DEBUG: Loading cookbook helpers-databags's library file: /vagrant/cookbooks/helpers-databags/libraries/helpers_databags.rb
[2014-06-09T13:57:42+00:00] DEBUG: Loading cookbook ruby-helper's library file: /vagrant/cookbooks/ruby-helper/libraries/object.rb
[2014-06-09T13:57:42+00:00] DEBUG: Loading cookbook dhcp's library file: /vagrant/cookbooks/dhcp/libraries/dynadns.rb
[2014-06-09T13:57:42+00:00] DEBUG: Loading cookbook dhcp's library file: /vagrant/cookbooks/dhcp/libraries/failover.rb
[2014-06-09T13:57:42+00:00] DEBUG: Node packer-debian-7.4-amd64 loading cookbook dhcp's attribute file /vagrant/cookbooks/dhcp/attributes/default.rb
[2014-06-09T13:57:42+00:00] DEBUG: Loading Attribute dhcp::default
[2014-06-09T13:57:42+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/group.rb
[2014-06-09T13:57:42+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/group.rb into a provider named dhcp_group defined in Chef::Provider::DhcpGroup
[2014-06-09T13:57:42+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/host.rb
[2014-06-09T13:57:42+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/host.rb into a provider named dhcp_host defined in Chef::Provider::DhcpHost
[2014-06-09T13:57:42+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/subnet.rb
[2014-06-09T13:57:42+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/subnet.rb into a provider named dhcp_subnet defined in Chef::Provider::DhcpSubnet
[2014-06-09T13:57:42+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/group.rb
[2014-06-09T13:57:42+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/group.rb into a resource named dhcp_group defined in Chef::Resource::DhcpGroup
[2014-06-09T13:57:42+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/host.rb
[2014-06-09T13:57:42+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/host.rb into a resource named dhcp_host defined in Chef::Resource::DhcpHost
[2014-06-09T13:57:42+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/subnet.rb
[2014-06-09T13:57:42+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/subnet.rb into a resource named dhcp_subnet defined in Chef::Resource::DhcpSubnet
[2014-06-09T13:57:42+00:00] DEBUG: Loading Recipe dhcp::server via include_recipe
[2014-06-09T13:57:42+00:00] DEBUG: Found recipe server in cookbook dhcp
[2014-06-09T13:57:42+00:00] DEBUG: Loading Recipe helpers-databags via include_recipe
[2014-06-09T13:57:42+00:00] DEBUG: Found recipe default in cookbook helpers-databags
[2014-06-09T13:57:42+00:00] DEBUG: Loading Recipe ruby-helper via include_recipe
[2014-06-09T13:57:42+00:00] DEBUG: Found recipe default in cookbook ruby-helper
[2014-06-09T13:57:42+00:00] DEBUG: Loading Recipe dhcp::_package via include_recipe
[2014-06-09T13:57:42+00:00] DEBUG: Found recipe _package in cookbook dhcp
[2014-06-09T13:57:42+00:00] DEBUG: Loading Recipe dhcp::_service via include_recipe
[2014-06-09T13:57:42+00:00] DEBUG: Found recipe _service in cookbook dhcp
[2014-06-09T13:57:42+00:00] DEBUG: Loading Recipe dhcp::_config via include_recipe
[2014-06-09T13:57:42+00:00] DEBUG: Found recipe _config in cookbook dhcp
[2014-06-09T13:57:42+00:00] INFO: Dhcp Peer: 
[2014-06-09T13:57:42+00:00] DEBUG: Loading Recipe dhcp::_networks via include_recipe
[2014-06-09T13:57:42+00:00] DEBUG: Found recipe _networks in cookbook dhcp
[2014-06-09T13:57:42+00:00] INFO: Attribute node[:dhcp][:networks] is empty, guess you are using LWRP
[2014-06-09T13:57:42+00:00] DEBUG: Loading Recipe dhcp::_groups via include_recipe
[2014-06-09T13:57:42+00:00] DEBUG: Found recipe _groups in cookbook dhcp
[2014-06-09T13:57:42+00:00] DEBUG: Loading Recipe dhcp::_hosts via include_recipe
[2014-06-09T13:57:42+00:00] DEBUG: Found recipe _hosts in cookbook dhcp
[2014-06-09T13:57:42+00:00] DEBUG: Loading from cookbook_path: /vagrant/cookbooks
[2014-06-09T13:57:42+00:00] DEBUG: Converging node packer-debian-7.4-amd64
[2014-06-09T13:57:42+00:00] INFO: Processing package[isc-dhcp-server] action install (dhcp::_package line 3)
[2014-06-09T13:57:42+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T13:57:42+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T13:57:42+00:00] DEBUG: package[isc-dhcp-server] checking package status for isc-dhcp-server
[2014-06-09T13:57:43+00:00] DEBUG: package[isc-dhcp-server] current version is 4.2.2.dfsg.1-5+deb70u6
[2014-06-09T13:57:43+00:00] DEBUG: package[isc-dhcp-server] candidate version is 4.2.2.dfsg.1-5+deb70u6
[2014-06-09T13:57:43+00:00] DEBUG: package[isc-dhcp-server] is already installed - nothing to do
[2014-06-09T13:57:43+00:00] INFO: Processing directory[/etc/dhcp] action create (dhcp::_package line 4)
[2014-06-09T13:57:43+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T13:57:43+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T13:57:43+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T13:57:43+00:00] INFO: Processing service[isc-dhcp-server] action enable (dhcp::_service line 3)
[2014-06-09T13:57:43+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T13:57:43+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T13:57:43+00:00] DEBUG: service[isc-dhcp-server] supports status, running
[2014-06-09T13:57:43+00:00] DEBUG: service[isc-dhcp-server] already enabled - nothing to do
[2014-06-09T13:57:43+00:00] INFO: Processing template[/etc/default/isc-dhcp-server] action create (dhcp::_service line 15)
[2014-06-09T13:57:43+00:00] DEBUG: template[/etc/default/isc-dhcp-server] checksumming file at /etc/default/isc-dhcp-server.
[2014-06-09T13:57:43+00:00] DEBUG: calculating checksum of /tmp/chef-rendered-template20140609-6106-1gvn2wq to compare with 5d47f2278b452868b3528dc6ec0e86287d071f45e5a62d38981d6363780fbd7d
[2014-06-09T13:57:43+00:00] DEBUG: found target_mode == current_mode, not updating mode
[2014-06-09T13:57:43+00:00] DEBUG: found target_uid == current_uid, not updating owner
[2014-06-09T13:57:43+00:00] DEBUG: found target_gid == current_gid, not updating group
[2014-06-09T13:57:43+00:00] INFO: Processing template[/etc/dhcp/dhcpd.conf] action create (dhcp::_config line 9)
[2014-06-09T13:57:43+00:00] DEBUG: template[/etc/dhcp/dhcpd.conf] checksumming file at /etc/dhcp/dhcpd.conf.
[2014-06-09T13:57:43+00:00] DEBUG: calculating checksum of /tmp/chef-rendered-template20140609-6106-1gvoaog to compare with 0841052baa94b599241caa75717643572ea3df312603e3927690890d142d99ee
[2014-06-09T13:57:43+00:00] DEBUG: found target_mode == current_mode, not updating mode
[2014-06-09T13:57:43+00:00] DEBUG: found target_uid == current_uid, not updating owner
[2014-06-09T13:57:43+00:00] DEBUG: found target_gid == current_gid, not updating group
[2014-06-09T13:57:43+00:00] INFO: Processing directory[/etc/dhcp/groups.d] action create (dhcp::_config line 52)
[2014-06-09T13:57:43+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T13:57:43+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T13:57:43+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T13:57:43+00:00] INFO: Processing file[/etc/dhcp/groups.d/list.conf] action create_if_missing (dhcp::_config line 53)
[2014-06-09T13:57:43+00:00] DEBUG: file[/etc/dhcp/groups.d/list.conf] exists at /etc/dhcp/groups.d/list.conf taking no action.
[2014-06-09T13:57:43+00:00] INFO: Processing directory[/etc/dhcp/hosts.d] action create (dhcp::_config line 52)
[2014-06-09T13:57:43+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T13:57:43+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T13:57:43+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T13:57:43+00:00] INFO: Processing file[/etc/dhcp/hosts.d/list.conf] action create_if_missing (dhcp::_config line 53)
[2014-06-09T13:57:43+00:00] DEBUG: file[/etc/dhcp/hosts.d/list.conf] exists at /etc/dhcp/hosts.d/list.conf taking no action.
[2014-06-09T13:57:43+00:00] INFO: Processing directory[/etc/dhcp/subnets.d] action create (dhcp::_config line 52)
[2014-06-09T13:57:43+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T13:57:43+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T13:57:43+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T13:57:43+00:00] INFO: Processing file[/etc/dhcp/subnets.d/list.conf] action create_if_missing (dhcp::_config line 53)
[2014-06-09T13:57:43+00:00] DEBUG: file[/etc/dhcp/subnets.d/list.conf] exists at /etc/dhcp/subnets.d/list.conf taking no action.
[2014-06-09T13:57:43+00:00] INFO: Chef Run complete in 1.352658443 seconds
[2014-06-09T13:57:43+00:00] INFO: Running report handlers
[2014-06-09T13:57:43+00:00] INFO: Report handlers complete
[2014-06-09T13:57:44+00:00] DEBUG: Forked instance successfully reaped (pid: 6106)
[2014-06-09T13:57:44+00:00] DEBUG: Exiting
eth0      Link encap:Ethernet  HWaddr 08:00:27:fd:fc:ab  
          inet addr:10.0.2.15  Bcast:10.0.2.255  Mask:255.255.255.0
          inet6 addr: fe80::a00:27ff:fefd:fcab/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:15392 errors:0 dropped:0 overruns:0 frame:0
          TX packets:8073 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:7576976 (7.2 MiB)  TX bytes:641700 (626.6 KiB)

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

[2014-06-09T13:58:13+00:00] INFO: Forking chef instance to converge...
[2014-06-09T13:58:13+00:00] DEBUG: Fork successful. Waiting for new chef pid: 6275
[2014-06-09T13:58:13+00:00] DEBUG: Forked instance now converging
[2014-06-09T13:58:13+00:00] WARN: 
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 
SSL validation of HTTPS requests is disabled. HTTPS connections are still
encrypted, but chef is not able to detect forged replies or man in the middle
attacks.

To fix this issue add an entry like this to your configuration file:

```
  # Verify all HTTPS connections (recommended)
  ssl_verify_mode :verify_peer

  # OR, Verify only connections to chef-server
  verify_api_cert true
```

To check your SSL configuration, or troubleshoot errors, you can use the
`knife ssl check` command like so:

```
  knife ssl check -c solo.rb
```

* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 

[2014-06-09T13:58:13+00:00] INFO: *** Chef 11.12.8 ***
[2014-06-09T13:58:13+00:00] INFO: Chef-client pid: 6275
[2014-06-09T13:58:13+00:00] DEBUG: Chef-client request_id: beab2120-51a5-4d87-9a9d-34ba12120cef
[2014-06-09T13:58:30+00:00] DEBUG: Building node object for packer-debian-7.4-amd64
[2014-06-09T13:58:30+00:00] DEBUG: Extracting run list from JSON attributes provided on command line
[2014-06-09T13:58:30+00:00] INFO: Setting the run_list to ["recipe[dhcp::server]"] from CLI options
[2014-06-09T13:58:30+00:00] DEBUG: Applying attributes from json file
[2014-06-09T13:58:30+00:00] DEBUG: Platform is debian version 7.4
[2014-06-09T13:58:30+00:00] INFO: Run List is [recipe[dhcp::server]]
[2014-06-09T13:58:30+00:00] INFO: Run List expands to [dhcp::server]
[2014-06-09T13:58:30+00:00] INFO: Starting Chef Run for packer-debian-7.4-amd64
[2014-06-09T13:58:30+00:00] INFO: Running start handlers
[2014-06-09T13:58:30+00:00] INFO: Start handlers complete.
[2014-06-09T13:58:30+00:00] DEBUG: No chefignore file found at /vagrant/chefignore no files will be ignored
[2014-06-09T13:58:30+00:00] DEBUG: Cookbooks to compile: [:"helpers-databags", :"ruby-helper", :dhcp]
[2014-06-09T13:58:30+00:00] DEBUG: Loading cookbook helpers-databags's library file: /vagrant/cookbooks/helpers-databags/libraries/helpers_databags.rb
[2014-06-09T13:58:30+00:00] DEBUG: Loading cookbook ruby-helper's library file: /vagrant/cookbooks/ruby-helper/libraries/object.rb
[2014-06-09T13:58:30+00:00] DEBUG: Loading cookbook dhcp's library file: /vagrant/cookbooks/dhcp/libraries/dynadns.rb
[2014-06-09T13:58:30+00:00] DEBUG: Loading cookbook dhcp's library file: /vagrant/cookbooks/dhcp/libraries/failover.rb
[2014-06-09T13:58:30+00:00] DEBUG: Node packer-debian-7.4-amd64 loading cookbook dhcp's attribute file /vagrant/cookbooks/dhcp/attributes/default.rb
[2014-06-09T13:58:30+00:00] DEBUG: Loading Attribute dhcp::default
[2014-06-09T13:58:30+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/group.rb
[2014-06-09T13:58:30+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/group.rb into a provider named dhcp_group defined in Chef::Provider::DhcpGroup
[2014-06-09T13:58:30+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/host.rb
[2014-06-09T13:58:30+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/host.rb into a provider named dhcp_host defined in Chef::Provider::DhcpHost
[2014-06-09T13:58:30+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/subnet.rb
[2014-06-09T13:58:30+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/subnet.rb into a provider named dhcp_subnet defined in Chef::Provider::DhcpSubnet
[2014-06-09T13:58:30+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/group.rb
[2014-06-09T13:58:30+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/group.rb into a resource named dhcp_group defined in Chef::Resource::DhcpGroup
[2014-06-09T13:58:30+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/host.rb
[2014-06-09T13:58:30+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/host.rb into a resource named dhcp_host defined in Chef::Resource::DhcpHost
[2014-06-09T13:58:30+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/subnet.rb
[2014-06-09T13:58:30+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/subnet.rb into a resource named dhcp_subnet defined in Chef::Resource::DhcpSubnet
[2014-06-09T13:58:30+00:00] DEBUG: Loading Recipe dhcp::server via include_recipe
[2014-06-09T13:58:30+00:00] DEBUG: Found recipe server in cookbook dhcp
[2014-06-09T13:58:30+00:00] DEBUG: Loading Recipe helpers-databags via include_recipe
[2014-06-09T13:58:30+00:00] DEBUG: Found recipe default in cookbook helpers-databags
[2014-06-09T13:58:30+00:00] DEBUG: Loading Recipe ruby-helper via include_recipe
[2014-06-09T13:58:30+00:00] DEBUG: Found recipe default in cookbook ruby-helper
[2014-06-09T13:58:30+00:00] DEBUG: Loading Recipe dhcp::_package via include_recipe
[2014-06-09T13:58:30+00:00] DEBUG: Found recipe _package in cookbook dhcp
[2014-06-09T13:58:30+00:00] DEBUG: Loading Recipe dhcp::_service via include_recipe
[2014-06-09T13:58:30+00:00] DEBUG: Found recipe _service in cookbook dhcp
[2014-06-09T13:58:30+00:00] DEBUG: Loading Recipe dhcp::_config via include_recipe
[2014-06-09T13:58:30+00:00] DEBUG: Found recipe _config in cookbook dhcp
[2014-06-09T13:58:30+00:00] INFO: Dhcp Peer: 
[2014-06-09T13:58:30+00:00] DEBUG: Loading Recipe dhcp::_networks via include_recipe
[2014-06-09T13:58:30+00:00] DEBUG: Found recipe _networks in cookbook dhcp
[2014-06-09T13:58:30+00:00] ERROR: Failed to load data bag item: "dhcp_networks" "192-168-2-0_24"
[2014-06-09T13:58:30+00:00] DEBUG: filtered backtrace of compile error: /vagrant/cookbooks/dhcp/recipes/_networks.rb:12:in `block in from_file',/vagrant/cookbooks/dhcp/recipes/_networks.rb:10:in `each',/vagrant/cookbooks/dhcp/recipes/_networks.rb:10:in `from_file',/vagrant/cookbooks/dhcp/recipes/server.rb:30:in `from_file'
[2014-06-09T13:58:30+00:00] DEBUG: filtered backtrace of compile error: /vagrant/cookbooks/dhcp/recipes/_networks.rb:12:in `block in from_file',/vagrant/cookbooks/dhcp/recipes/_networks.rb:10:in `each',/vagrant/cookbooks/dhcp/recipes/_networks.rb:10:in `from_file',/vagrant/cookbooks/dhcp/recipes/server.rb:30:in `from_file'
[2014-06-09T13:58:30+00:00] DEBUG: backtrace entry for compile error: '/vagrant/cookbooks/dhcp/recipes/_networks.rb:12:in `block in from_file''
[2014-06-09T13:58:30+00:00] DEBUG: Line number of compile error: '12'
[0m
================================================================================[0m
[31mRecipe Compile Error in /vagrant/cookbooks/dhcp/recipes/server.rb[0m
================================================================================[0m

[0m
Yajl::ParseError[0m
----------------[0m
parse error: invalid object key (must be a string)
          "next-server 192.168.1.11" ] } 
                     (right here) ------^
[0m

[0m
Cookbook Trace:[0m
---------------[0m
  /vagrant/cookbooks/dhcp/recipes/_networks.rb:12:in `block in from_file'
  /vagrant/cookbooks/dhcp/recipes/_networks.rb:10:in `each'
  /vagrant/cookbooks/dhcp/recipes/_networks.rb:10:in `from_file'
  /vagrant/cookbooks/dhcp/recipes/server.rb:30:in `from_file'[0m

[0m
Relevant File Content:[0m
----------------------[0m
/vagrant/cookbooks/dhcp/recipes/_networks.rb:

  5:  if node[:dhcp][:networks].empty?
  6:    Chef::Log.info('Attribute node[:dhcp][:networks] is empty, guess you are using LWRP')
  7:    return
  8:  end
  9:  
 10:  node[:dhcp][:networks].each do |net|
 11:    if node[:dhcp][:use_bags] == true
 12>>     data = data_bag_item(node[:dhcp][:networks_bag], Helpers::DataBags.escape_bagname(net))
 13:    else
 14:      data = node[:dhcp][:network_data].fetch net, nil
 15:    end
 16:  
 17:    next unless data
 18:    # run the lwrp with the bag data
 19:    dhcp_subnet data['address'] do
 20:      broadcast data['broadcast']
 21:      netmask   data['netmask']
[0m

[0m
[2014-06-09T13:58:30+00:00] DEBUG: Re-raising exception: Yajl::ParseError - parse error: invalid object key (must be a string)
          "next-server 192.168.1.11" ] } 
                     (right here) ------^

/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/yajl-ruby-1.2.1/lib/yajl.rb:37:in `parse'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/yajl-ruby-1.2.1/lib/yajl.rb:37:in `parse'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/json_compat.rb:56:in `from_json'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/data_bag.rb:113:in `block in load'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/data_bag.rb:112:in `each'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/data_bag.rb:112:in `inject'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/data_bag.rb:112:in `load'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/data_bag_item.rb:146:in `load'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/dsl/data_query.rb:59:in `data_bag_item'
  /vagrant/cookbooks/dhcp/recipes/_networks.rb:12:in `block in from_file'
  /vagrant/cookbooks/dhcp/recipes/_networks.rb:10:in `each'
  /vagrant/cookbooks/dhcp/recipes/_networks.rb:10:in `from_file'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/from_file.rb:30:in `instance_eval'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/from_file.rb:30:in `from_file'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/cookbook_version.rb:237:in `load_recipe'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:165:in `load_recipe'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:134:in `block in include_recipe'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:133:in `each'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:133:in `include_recipe'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/dsl/include_recipe.rb:26:in `include_recipe'
  /vagrant/cookbooks/dhcp/recipes/server.rb:30:in `from_file'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/from_file.rb:30:in `instance_eval'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/from_file.rb:30:in `from_file'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/cookbook_version.rb:237:in `load_recipe'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:165:in `load_recipe'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context/cookbook_compiler.rb:140:in `block in compile_recipes'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context/cookbook_compiler.rb:138:in `each'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context/cookbook_compiler.rb:138:in `compile_recipes'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context/cookbook_compiler.rb:75:in `compile'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:88:in `load'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/policy_builder/expand_node_object.rb:73:in `setup_run_context'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:265:in `setup_run_context'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:429:in `do_run'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:213:in `block in run'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:207:in `fork'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:207:in `run'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application.rb:217:in `run_chef_client'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:221:in `block in run_application'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:213:in `loop'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:213:in `run_application'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application.rb:67:in `run'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/bin/chef-solo:25:in `<top (required)>'
  /usr/bin/chef-solo:23:in `load'
  /usr/bin/chef-solo:23:in `<main>'
[2014-06-09T13:58:30+00:00] ERROR: Running exception handlers
[2014-06-09T13:58:30+00:00] ERROR: Exception handlers complete
[2014-06-09T13:58:30+00:00] FATAL: Stacktrace dumped to /var/chef/cache/chef-stacktrace.out
[2014-06-09T13:58:30+00:00] DEBUG: Yajl::ParseError: parse error: invalid object key (must be a string)
          "next-server 192.168.1.11" ] } 
                     (right here) ------^

/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/yajl-ruby-1.2.1/lib/yajl.rb:37:in `parse'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/yajl-ruby-1.2.1/lib/yajl.rb:37:in `parse'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/json_compat.rb:56:in `from_json'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/data_bag.rb:113:in `block in load'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/data_bag.rb:112:in `each'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/data_bag.rb:112:in `inject'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/data_bag.rb:112:in `load'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/data_bag_item.rb:146:in `load'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/dsl/data_query.rb:59:in `data_bag_item'
/vagrant/cookbooks/dhcp/recipes/_networks.rb:12:in `block in from_file'
/vagrant/cookbooks/dhcp/recipes/_networks.rb:10:in `each'
/vagrant/cookbooks/dhcp/recipes/_networks.rb:10:in `from_file'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/from_file.rb:30:in `instance_eval'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/from_file.rb:30:in `from_file'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/cookbook_version.rb:237:in `load_recipe'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:165:in `load_recipe'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:134:in `block in include_recipe'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:133:in `each'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:133:in `include_recipe'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/dsl/include_recipe.rb:26:in `include_recipe'
/vagrant/cookbooks/dhcp/recipes/server.rb:30:in `from_file'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/from_file.rb:30:in `instance_eval'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/from_file.rb:30:in `from_file'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/cookbook_version.rb:237:in `load_recipe'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:165:in `load_recipe'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context/cookbook_compiler.rb:140:in `block in compile_recipes'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context/cookbook_compiler.rb:138:in `each'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context/cookbook_compiler.rb:138:in `compile_recipes'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context/cookbook_compiler.rb:75:in `compile'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:88:in `load'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/policy_builder/expand_node_object.rb:73:in `setup_run_context'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:265:in `setup_run_context'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:429:in `do_run'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:213:in `block in run'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:207:in `fork'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:207:in `run'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application.rb:217:in `run_chef_client'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:221:in `block in run_application'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:213:in `loop'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:213:in `run_application'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application.rb:67:in `run'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/bin/chef-solo:25:in `<top (required)>'
/usr/bin/chef-solo:23:in `load'
/usr/bin/chef-solo:23:in `<main>'
[2014-06-09T13:58:30+00:00] ERROR: parse error: invalid object key (must be a string)
          "next-server 192.168.1.11" ] } 
                     (right here) ------^

[2014-06-09T13:58:30+00:00] FATAL: Chef::Exceptions::ChildConvergeError: Chef run process exited unsuccessfully (exit code 1)
eth0      Link encap:Ethernet  HWaddr 08:00:27:fd:fc:ab  
          inet addr:10.0.2.15  Bcast:10.0.2.255  Mask:255.255.255.0
          inet6 addr: fe80::a00:27ff:fefd:fcab/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:15471 errors:0 dropped:0 overruns:0 frame:0
          TX packets:8149 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:7582388 (7.2 MiB)  TX bytes:650628 (635.3 KiB)

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

[2014-06-09T13:59:13+00:00] INFO: Forking chef instance to converge...
[2014-06-09T13:59:13+00:00] DEBUG: Fork successful. Waiting for new chef pid: 6431
[2014-06-09T13:59:13+00:00] DEBUG: Forked instance now converging
[2014-06-09T13:59:13+00:00] WARN: 
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 
SSL validation of HTTPS requests is disabled. HTTPS connections are still
encrypted, but chef is not able to detect forged replies or man in the middle
attacks.

To fix this issue add an entry like this to your configuration file:

```
  # Verify all HTTPS connections (recommended)
  ssl_verify_mode :verify_peer

  # OR, Verify only connections to chef-server
  verify_api_cert true
```

To check your SSL configuration, or troubleshoot errors, you can use the
`knife ssl check` command like so:

```
  knife ssl check -c solo.rb
```

* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 

[2014-06-09T13:59:13+00:00] INFO: *** Chef 11.12.8 ***
[2014-06-09T13:59:13+00:00] INFO: Chef-client pid: 6431
[2014-06-09T13:59:13+00:00] DEBUG: Chef-client request_id: 87a34ffa-de18-4714-87c5-43b3a6d1d80d
[2014-06-09T13:59:29+00:00] DEBUG: Building node object for packer-debian-7.4-amd64
[2014-06-09T13:59:29+00:00] DEBUG: Extracting run list from JSON attributes provided on command line
[2014-06-09T13:59:29+00:00] INFO: Setting the run_list to ["recipe[dhcp::server]"] from CLI options
[2014-06-09T13:59:29+00:00] DEBUG: Applying attributes from json file
[2014-06-09T13:59:29+00:00] DEBUG: Platform is debian version 7.4
[2014-06-09T13:59:29+00:00] INFO: Run List is [recipe[dhcp::server]]
[2014-06-09T13:59:29+00:00] INFO: Run List expands to [dhcp::server]
[2014-06-09T13:59:29+00:00] INFO: Starting Chef Run for packer-debian-7.4-amd64
[2014-06-09T13:59:29+00:00] INFO: Running start handlers
[2014-06-09T13:59:29+00:00] INFO: Start handlers complete.
[2014-06-09T13:59:29+00:00] DEBUG: No chefignore file found at /vagrant/chefignore no files will be ignored
[2014-06-09T13:59:29+00:00] DEBUG: Cookbooks to compile: [:"helpers-databags", :"ruby-helper", :dhcp]
[2014-06-09T13:59:29+00:00] DEBUG: Loading cookbook helpers-databags's library file: /vagrant/cookbooks/helpers-databags/libraries/helpers_databags.rb
[2014-06-09T13:59:29+00:00] DEBUG: Loading cookbook ruby-helper's library file: /vagrant/cookbooks/ruby-helper/libraries/object.rb
[2014-06-09T13:59:29+00:00] DEBUG: Loading cookbook dhcp's library file: /vagrant/cookbooks/dhcp/libraries/dynadns.rb
[2014-06-09T13:59:29+00:00] DEBUG: Loading cookbook dhcp's library file: /vagrant/cookbooks/dhcp/libraries/failover.rb
[2014-06-09T13:59:29+00:00] DEBUG: Node packer-debian-7.4-amd64 loading cookbook dhcp's attribute file /vagrant/cookbooks/dhcp/attributes/default.rb
[2014-06-09T13:59:29+00:00] DEBUG: Loading Attribute dhcp::default
[2014-06-09T13:59:29+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/group.rb
[2014-06-09T13:59:29+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/group.rb into a provider named dhcp_group defined in Chef::Provider::DhcpGroup
[2014-06-09T13:59:29+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/host.rb
[2014-06-09T13:59:29+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/host.rb into a provider named dhcp_host defined in Chef::Provider::DhcpHost
[2014-06-09T13:59:29+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/subnet.rb
[2014-06-09T13:59:29+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/subnet.rb into a provider named dhcp_subnet defined in Chef::Provider::DhcpSubnet
[2014-06-09T13:59:29+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/group.rb
[2014-06-09T13:59:29+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/group.rb into a resource named dhcp_group defined in Chef::Resource::DhcpGroup
[2014-06-09T13:59:29+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/host.rb
[2014-06-09T13:59:29+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/host.rb into a resource named dhcp_host defined in Chef::Resource::DhcpHost
[2014-06-09T13:59:29+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/subnet.rb
[2014-06-09T13:59:29+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/subnet.rb into a resource named dhcp_subnet defined in Chef::Resource::DhcpSubnet
[2014-06-09T13:59:29+00:00] DEBUG: Loading Recipe dhcp::server via include_recipe
[2014-06-09T13:59:29+00:00] DEBUG: Found recipe server in cookbook dhcp
[2014-06-09T13:59:29+00:00] DEBUG: Loading Recipe helpers-databags via include_recipe
[2014-06-09T13:59:29+00:00] DEBUG: Found recipe default in cookbook helpers-databags
[2014-06-09T13:59:29+00:00] DEBUG: Loading Recipe ruby-helper via include_recipe
[2014-06-09T13:59:29+00:00] DEBUG: Found recipe default in cookbook ruby-helper
[2014-06-09T13:59:29+00:00] DEBUG: Loading Recipe dhcp::_package via include_recipe
[2014-06-09T13:59:29+00:00] DEBUG: Found recipe _package in cookbook dhcp
[2014-06-09T13:59:29+00:00] DEBUG: Loading Recipe dhcp::_service via include_recipe
[2014-06-09T13:59:29+00:00] DEBUG: Found recipe _service in cookbook dhcp
[2014-06-09T13:59:29+00:00] DEBUG: Loading Recipe dhcp::_config via include_recipe
[2014-06-09T13:59:29+00:00] DEBUG: Found recipe _config in cookbook dhcp
[2014-06-09T13:59:29+00:00] INFO: Dhcp Peer: 
[2014-06-09T13:59:29+00:00] DEBUG: Loading Recipe dhcp::_networks via include_recipe
[2014-06-09T13:59:29+00:00] DEBUG: Found recipe _networks in cookbook dhcp
[2014-06-09T13:59:29+00:00] DEBUG: Loading Recipe dhcp::_groups via include_recipe
[2014-06-09T13:59:29+00:00] DEBUG: Found recipe _groups in cookbook dhcp
[2014-06-09T13:59:29+00:00] DEBUG: Loading Recipe dhcp::_hosts via include_recipe
[2014-06-09T13:59:29+00:00] DEBUG: Found recipe _hosts in cookbook dhcp
[2014-06-09T13:59:29+00:00] DEBUG: Loading from cookbook_path: /vagrant/cookbooks
[2014-06-09T13:59:29+00:00] DEBUG: Converging node packer-debian-7.4-amd64
[2014-06-09T13:59:29+00:00] INFO: Processing package[isc-dhcp-server] action install (dhcp::_package line 3)
[2014-06-09T13:59:29+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T13:59:29+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T13:59:29+00:00] DEBUG: package[isc-dhcp-server] checking package status for isc-dhcp-server
[2014-06-09T13:59:29+00:00] DEBUG: package[isc-dhcp-server] current version is 4.2.2.dfsg.1-5+deb70u6
[2014-06-09T13:59:29+00:00] DEBUG: package[isc-dhcp-server] candidate version is 4.2.2.dfsg.1-5+deb70u6
[2014-06-09T13:59:29+00:00] DEBUG: package[isc-dhcp-server] is already installed - nothing to do
[2014-06-09T13:59:29+00:00] INFO: Processing directory[/etc/dhcp] action create (dhcp::_package line 4)
[2014-06-09T13:59:29+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T13:59:29+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T13:59:29+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T13:59:29+00:00] INFO: Processing service[isc-dhcp-server] action enable (dhcp::_service line 3)
[2014-06-09T13:59:29+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T13:59:29+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T13:59:29+00:00] DEBUG: service[isc-dhcp-server] supports status, running
[2014-06-09T13:59:30+00:00] DEBUG: service[isc-dhcp-server] already enabled - nothing to do
[2014-06-09T13:59:30+00:00] INFO: Processing template[/etc/default/isc-dhcp-server] action create (dhcp::_service line 15)
[2014-06-09T13:59:30+00:00] DEBUG: template[/etc/default/isc-dhcp-server] checksumming file at /etc/default/isc-dhcp-server.
[2014-06-09T13:59:30+00:00] DEBUG: calculating checksum of /tmp/chef-rendered-template20140609-6431-bxe01n to compare with 5d47f2278b452868b3528dc6ec0e86287d071f45e5a62d38981d6363780fbd7d
[2014-06-09T13:59:30+00:00] DEBUG: found target_mode == current_mode, not updating mode
[2014-06-09T13:59:30+00:00] DEBUG: found target_uid == current_uid, not updating owner
[2014-06-09T13:59:30+00:00] DEBUG: found target_gid == current_gid, not updating group
[2014-06-09T13:59:30+00:00] INFO: Processing template[/etc/dhcp/dhcpd.conf] action create (dhcp::_config line 9)
[2014-06-09T13:59:30+00:00] DEBUG: template[/etc/dhcp/dhcpd.conf] checksumming file at /etc/dhcp/dhcpd.conf.
[2014-06-09T13:59:30+00:00] DEBUG: calculating checksum of /tmp/chef-rendered-template20140609-6431-h1526s to compare with 0841052baa94b599241caa75717643572ea3df312603e3927690890d142d99ee
[2014-06-09T13:59:30+00:00] DEBUG: found target_mode == current_mode, not updating mode
[2014-06-09T13:59:30+00:00] DEBUG: found target_uid == current_uid, not updating owner
[2014-06-09T13:59:30+00:00] DEBUG: found target_gid == current_gid, not updating group
[2014-06-09T13:59:30+00:00] INFO: Processing directory[/etc/dhcp/groups.d] action create (dhcp::_config line 52)
[2014-06-09T13:59:30+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T13:59:30+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T13:59:30+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T13:59:30+00:00] INFO: Processing file[/etc/dhcp/groups.d/list.conf] action create_if_missing (dhcp::_config line 53)
[2014-06-09T13:59:30+00:00] DEBUG: file[/etc/dhcp/groups.d/list.conf] exists at /etc/dhcp/groups.d/list.conf taking no action.
[2014-06-09T13:59:30+00:00] INFO: Processing directory[/etc/dhcp/hosts.d] action create (dhcp::_config line 52)
[2014-06-09T13:59:30+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T13:59:30+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T13:59:30+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T13:59:30+00:00] INFO: Processing file[/etc/dhcp/hosts.d/list.conf] action create_if_missing (dhcp::_config line 53)
[2014-06-09T13:59:30+00:00] DEBUG: file[/etc/dhcp/hosts.d/list.conf] exists at /etc/dhcp/hosts.d/list.conf taking no action.
[2014-06-09T13:59:30+00:00] INFO: Processing directory[/etc/dhcp/subnets.d] action create (dhcp::_config line 52)
[2014-06-09T13:59:30+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T13:59:30+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T13:59:30+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T13:59:30+00:00] INFO: Processing file[/etc/dhcp/subnets.d/list.conf] action create_if_missing (dhcp::_config line 53)
[2014-06-09T13:59:30+00:00] DEBUG: file[/etc/dhcp/subnets.d/list.conf] exists at /etc/dhcp/subnets.d/list.conf taking no action.
[2014-06-09T13:59:30+00:00] INFO: Processing dhcp_subnet[192.168.2.0] action add (dhcp::_networks line 19)
[2014-06-09T13:59:30+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T13:59:30+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T13:59:30+00:00] INFO: Processing directory[/etc/dhcp/subnets.d/] action create (/vagrant/cookbooks/dhcp/providers/subnet.rb line 28)
[2014-06-09T13:59:30+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T13:59:30+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T13:59:30+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T13:59:30+00:00] INFO: Processing template[/etc/dhcp/subnets.d/192.168.2.0.conf] action create (/vagrant/cookbooks/dhcp/providers/subnet.rb line 30)
[2014-06-09T13:59:30+00:00] DEBUG: touching /etc/dhcp/subnets.d/192.168.2.0.conf to create it
[2014-06-09T13:59:30+00:00] INFO: template[/etc/dhcp/subnets.d/192.168.2.0.conf] created file /etc/dhcp/subnets.d/192.168.2.0.conf
[2014-06-09T13:59:30+00:00] DEBUG: calculating checksum of /tmp/chef-rendered-template20140609-6431-1i1hs3t to compare with 
[2014-06-09T13:59:30+00:00] DEBUG: running: diff -u /etc/dhcp/subnets.d/192.168.2.0.conf /tmp/chef-rendered-template20140609-6431-1i1hs3t
[2014-06-09T13:59:30+00:00] DEBUG: reading modes from /etc/dhcp/subnets.d/192.168.2.0.conf file
[2014-06-09T13:59:30+00:00] DEBUG: applying mode = 644, uid = 0, gid = 0 to /tmp/chef-rendered-template20140609-6431-1i1hs3t
[2014-06-09T13:59:30+00:00] DEBUG: moving temporary file /tmp/chef-rendered-template20140609-6431-1i1hs3t into place at /etc/dhcp/subnets.d/192.168.2.0.conf
[2014-06-09T13:59:30+00:00] INFO: template[/etc/dhcp/subnets.d/192.168.2.0.conf] updated file contents /etc/dhcp/subnets.d/192.168.2.0.conf
[2014-06-09T13:59:30+00:00] DEBUG: found current_mode == nil, so we are creating a new file, updating mode
[2014-06-09T13:59:30+00:00] DEBUG: found current_mode == nil, so we are creating a new file, updating mode
[2014-06-09T13:59:30+00:00] DEBUG: found current_uid == nil, so we are creating a new file, updating owner
[2014-06-09T13:59:30+00:00] DEBUG: found current_gid == nil, so we are creating a new file, updating group
[2014-06-09T13:59:30+00:00] DEBUG: found current_uid == nil, so we are creating a new file, updating owner
[2014-06-09T13:59:30+00:00] INFO: template[/etc/dhcp/subnets.d/192.168.2.0.conf] owner changed to 0
[2014-06-09T13:59:30+00:00] DEBUG: found current_gid == nil, so we are creating a new file, updating group
[2014-06-09T13:59:30+00:00] INFO: template[/etc/dhcp/subnets.d/192.168.2.0.conf] group changed to 0
[2014-06-09T13:59:30+00:00] DEBUG: found current_mode == nil, so we are creating a new file, updating mode
[2014-06-09T13:59:30+00:00] INFO: template[/etc/dhcp/subnets.d/192.168.2.0.conf] mode changed to 644
[2014-06-09T13:59:30+00:00] DEBUG: selinux utilities can not be found. Skipping selinux permission fixup.
[2014-06-09T13:59:30+00:00] INFO: Processing template[/etc/dhcp/subnets.d/list.conf] action create (/vagrant/cookbooks/dhcp/providers/subnet.rb line 14)
[2014-06-09T13:59:30+00:00] DEBUG: template[/etc/dhcp/subnets.d/list.conf] checksumming file at /etc/dhcp/subnets.d/list.conf.
[2014-06-09T13:59:30+00:00] DEBUG: calculating checksum of /tmp/chef-rendered-template20140609-6431-1dygzpz to compare with e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
[2014-06-09T13:59:30+00:00] DEBUG: running: diff -u /etc/dhcp/subnets.d/list.conf /tmp/chef-rendered-template20140609-6431-1dygzpz
[2014-06-09T13:59:30+00:00] INFO: template[/etc/dhcp/subnets.d/list.conf] backed up to /var/chef/backup/etc/dhcp/subnets.d/list.conf.chef-20140609135930.648826
[2014-06-09T13:59:30+00:00] DEBUG: reading modes from /etc/dhcp/subnets.d/list.conf file
[2014-06-09T13:59:30+00:00] DEBUG: applying mode = 644, uid = 0, gid = 0 to /tmp/chef-rendered-template20140609-6431-1dygzpz
[2014-06-09T13:59:30+00:00] DEBUG: moving temporary file /tmp/chef-rendered-template20140609-6431-1dygzpz into place at /etc/dhcp/subnets.d/list.conf
[2014-06-09T13:59:30+00:00] INFO: template[/etc/dhcp/subnets.d/list.conf] updated file contents /etc/dhcp/subnets.d/list.conf
[2014-06-09T13:59:30+00:00] DEBUG: found target_mode == current_mode, not updating mode
[2014-06-09T13:59:30+00:00] DEBUG: found target_uid == current_uid, not updating owner
[2014-06-09T13:59:30+00:00] DEBUG: found target_gid == current_gid, not updating group
[2014-06-09T13:59:30+00:00] DEBUG: selinux utilities can not be found. Skipping selinux permission fixup.
[2014-06-09T13:59:30+00:00] INFO: template[/etc/dhcp/subnets.d/list.conf] not queuing delayed action restart on service[isc-dhcp-server] (delayed), as it's already been queued
[2014-06-09T13:59:30+00:00] INFO: template[/etc/dhcp/subnets.d/192.168.2.0.conf] sending restart action to service[isc-dhcp-server] (delayed)
[2014-06-09T13:59:30+00:00] INFO: Processing service[isc-dhcp-server] action restart (dhcp::_service line 3)
[2014-06-09T13:59:30+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T13:59:30+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T13:59:30+00:00] DEBUG: service[isc-dhcp-server] supports status, running
[0m
================================================================================[0m
[31mError executing action `restart` on resource 'service[isc-dhcp-server]'[0m
================================================================================[0m

[0m
Mixlib::ShellOut::ShellCommandFailed[0m
------------------------------------[0m
Expected process to exit with [0], but received '1'
---- Begin output of /etc/init.d/isc-dhcp-server restart ----
STDOUT: dhcpd self-test failed. Please fix /etc/dhcp/dhcpd.conf.
The error was:
STDERR: Internet Systems Consortium DHCP Server 4.2.2
Copyright 2004-2011 Internet Systems Consortium.
All rights reserved.
For info, please visit https://www.isc.org/software/dhcp/
bad range, address 192.168.1.240 not in subnet 192.168.2.0 netmask 255.255.255.0
---- End output of /etc/init.d/isc-dhcp-server restart ----
Ran /etc/init.d/isc-dhcp-server restart returned 1[0m

[0m
Resource Declaration:[0m
---------------------[0m
# In /vagrant/cookbooks/dhcp/recipes/_service.rb

  3: service node[:dhcp][:service_name] do
  4:   supports restart: true, status: true, reload: true
  5:   action [:enable]
  6:   # use upstart on ubuntu > 9.10
  7:   case node[:platform]
  8:   when 'ubuntu'
  9:     if node[:platform_version].to_f >= 9.10
 10:       provider Chef::Provider::Service::Upstart
 11:     end
 12:   end
[0m

[0m
Compiled Resource:[0m
------------------[0m
# Declared in /vagrant/cookbooks/dhcp/recipes/_service.rb:3:in `from_file'

service("isc-dhcp-server") do
  action [:enable]
  supports {:restart=>true, :status=>true, :reload=>true}
  retries 0
  retry_delay 2
  guard_interpreter :default
  service_name "isc-dhcp-server"
  enabled true
  pattern "isc-dhcp-server"
  cookbook_name :dhcp
  recipe_name "_service"
end
[0m

[0m
[2014-06-09T13:59:31+00:00] DEBUG: Re-raising exception: Mixlib::ShellOut::ShellCommandFailed - service[isc-dhcp-server] (dhcp::_service line 3) had an error: Mixlib::ShellOut::ShellCommandFailed: Expected process to exit with [0], but received '1'
---- Begin output of /etc/init.d/isc-dhcp-server restart ----
STDOUT: dhcpd self-test failed. Please fix /etc/dhcp/dhcpd.conf.
The error was:
STDERR: Internet Systems Consortium DHCP Server 4.2.2
Copyright 2004-2011 Internet Systems Consortium.
All rights reserved.
For info, please visit https://www.isc.org/software/dhcp/
bad range, address 192.168.1.240 not in subnet 192.168.2.0 netmask 255.255.255.0
---- End output of /etc/init.d/isc-dhcp-server restart ----
Ran /etc/init.d/isc-dhcp-server restart returned 1
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/mixlib-shellout-1.4.0/lib/mixlib/shellout.rb:257:in `invalid!'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/mixlib-shellout-1.4.0/lib/mixlib/shellout.rb:244:in `error!'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/shell_out.rb:43:in `shell_out!'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider/service/init.rb:71:in `restart_service'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider/service.rb:115:in `block in action_restart'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/why_run.rb:52:in `call'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/why_run.rb:52:in `add_action'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider.rb:155:in `converge_by'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider/service.rb:114:in `action_restart'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider.rb:120:in `run_action'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/resource.rb:637:in `run_action'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:49:in `run_action'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:111:in `run_delayed_notification'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:99:in `block in run_delayed_notifications'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:98:in `each'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:98:in `run_delayed_notifications'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:88:in `converge'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:345:in `converge'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:431:in `do_run'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:213:in `block in run'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:207:in `fork'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:207:in `run'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application.rb:217:in `run_chef_client'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:221:in `block in run_application'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:213:in `loop'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:213:in `run_application'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application.rb:67:in `run'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/bin/chef-solo:25:in `<top (required)>'
  /usr/bin/chef-solo:23:in `load'
  /usr/bin/chef-solo:23:in `<main>'
[2014-06-09T13:59:31+00:00] ERROR: Running exception handlers
[2014-06-09T13:59:31+00:00] ERROR: Exception handlers complete
[2014-06-09T13:59:31+00:00] FATAL: Stacktrace dumped to /var/chef/cache/chef-stacktrace.out
[2014-06-09T13:59:31+00:00] DEBUG: Mixlib::ShellOut::ShellCommandFailed: service[isc-dhcp-server] (dhcp::_service line 3) had an error: Mixlib::ShellOut::ShellCommandFailed: Expected process to exit with [0], but received '1'
---- Begin output of /etc/init.d/isc-dhcp-server restart ----
STDOUT: dhcpd self-test failed. Please fix /etc/dhcp/dhcpd.conf.
The error was:
STDERR: Internet Systems Consortium DHCP Server 4.2.2
Copyright 2004-2011 Internet Systems Consortium.
All rights reserved.
For info, please visit https://www.isc.org/software/dhcp/
bad range, address 192.168.1.240 not in subnet 192.168.2.0 netmask 255.255.255.0
---- End output of /etc/init.d/isc-dhcp-server restart ----
Ran /etc/init.d/isc-dhcp-server restart returned 1
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/mixlib-shellout-1.4.0/lib/mixlib/shellout.rb:257:in `invalid!'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/mixlib-shellout-1.4.0/lib/mixlib/shellout.rb:244:in `error!'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/shell_out.rb:43:in `shell_out!'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider/service/init.rb:71:in `restart_service'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider/service.rb:115:in `block in action_restart'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/why_run.rb:52:in `call'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/why_run.rb:52:in `add_action'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider.rb:155:in `converge_by'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider/service.rb:114:in `action_restart'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider.rb:120:in `run_action'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/resource.rb:637:in `run_action'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:49:in `run_action'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:111:in `run_delayed_notification'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:99:in `block in run_delayed_notifications'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:98:in `each'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:98:in `run_delayed_notifications'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:88:in `converge'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:345:in `converge'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:431:in `do_run'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:213:in `block in run'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:207:in `fork'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:207:in `run'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application.rb:217:in `run_chef_client'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:221:in `block in run_application'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:213:in `loop'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:213:in `run_application'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application.rb:67:in `run'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/bin/chef-solo:25:in `<top (required)>'
/usr/bin/chef-solo:23:in `load'
/usr/bin/chef-solo:23:in `<main>'
[2014-06-09T13:59:31+00:00] ERROR: service[isc-dhcp-server] (dhcp::_service line 3) had an error: Mixlib::ShellOut::ShellCommandFailed: Expected process to exit with [0], but received '1'
---- Begin output of /etc/init.d/isc-dhcp-server restart ----
STDOUT: dhcpd self-test failed. Please fix /etc/dhcp/dhcpd.conf.
The error was:
STDERR: Internet Systems Consortium DHCP Server 4.2.2
Copyright 2004-2011 Internet Systems Consortium.
All rights reserved.
For info, please visit https://www.isc.org/software/dhcp/
bad range, address 192.168.1.240 not in subnet 192.168.2.0 netmask 255.255.255.0
---- End output of /etc/init.d/isc-dhcp-server restart ----
Ran /etc/init.d/isc-dhcp-server restart returned 1
[2014-06-09T13:59:31+00:00] FATAL: Chef::Exceptions::ChildConvergeError: Chef run process exited unsuccessfully (exit code 1)
eth0      Link encap:Ethernet  HWaddr 08:00:27:fd:fc:ab  
          inet addr:10.0.2.15  Bcast:10.0.2.255  Mask:255.255.255.0
          inet6 addr: fe80::a00:27ff:fefd:fcab/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:15672 errors:0 dropped:0 overruns:0 frame:0
          TX packets:8343 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:7595224 (7.2 MiB)  TX bytes:671224 (655.4 KiB)

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

[2014-06-09T14:01:20+00:00] INFO: Forking chef instance to converge...
[2014-06-09T14:01:20+00:00] DEBUG: Fork successful. Waiting for new chef pid: 6617
[2014-06-09T14:01:20+00:00] DEBUG: Forked instance now converging
[2014-06-09T14:01:20+00:00] WARN: 
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 
SSL validation of HTTPS requests is disabled. HTTPS connections are still
encrypted, but chef is not able to detect forged replies or man in the middle
attacks.

To fix this issue add an entry like this to your configuration file:

```
  # Verify all HTTPS connections (recommended)
  ssl_verify_mode :verify_peer

  # OR, Verify only connections to chef-server
  verify_api_cert true
```

To check your SSL configuration, or troubleshoot errors, you can use the
`knife ssl check` command like so:

```
  knife ssl check -c solo.rb
```

* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 

[2014-06-09T14:01:20+00:00] INFO: *** Chef 11.12.8 ***
[2014-06-09T14:01:20+00:00] INFO: Chef-client pid: 6617
[2014-06-09T14:01:20+00:00] DEBUG: Chef-client request_id: f695ed6c-a01e-44b0-bb25-60ce39d844ee
[2014-06-09T14:01:36+00:00] DEBUG: Building node object for packer-debian-7.4-amd64
[2014-06-09T14:01:36+00:00] DEBUG: Extracting run list from JSON attributes provided on command line
[2014-06-09T14:01:36+00:00] INFO: Setting the run_list to ["recipe[dhcp::server]"] from CLI options
[2014-06-09T14:01:36+00:00] DEBUG: Applying attributes from json file
[2014-06-09T14:01:36+00:00] DEBUG: Platform is debian version 7.4
[2014-06-09T14:01:36+00:00] INFO: Run List is [recipe[dhcp::server]]
[2014-06-09T14:01:36+00:00] INFO: Run List expands to [dhcp::server]
[2014-06-09T14:01:36+00:00] INFO: Starting Chef Run for packer-debian-7.4-amd64
[2014-06-09T14:01:36+00:00] INFO: Running start handlers
[2014-06-09T14:01:36+00:00] INFO: Start handlers complete.
[2014-06-09T14:01:36+00:00] DEBUG: No chefignore file found at /vagrant/chefignore no files will be ignored
[2014-06-09T14:01:36+00:00] DEBUG: Cookbooks to compile: [:"helpers-databags", :"ruby-helper", :dhcp]
[2014-06-09T14:01:36+00:00] DEBUG: Loading cookbook helpers-databags's library file: /vagrant/cookbooks/helpers-databags/libraries/helpers_databags.rb
[2014-06-09T14:01:36+00:00] DEBUG: Loading cookbook ruby-helper's library file: /vagrant/cookbooks/ruby-helper/libraries/object.rb
[2014-06-09T14:01:36+00:00] DEBUG: Loading cookbook dhcp's library file: /vagrant/cookbooks/dhcp/libraries/dynadns.rb
[2014-06-09T14:01:36+00:00] DEBUG: Loading cookbook dhcp's library file: /vagrant/cookbooks/dhcp/libraries/failover.rb
[2014-06-09T14:01:36+00:00] DEBUG: Node packer-debian-7.4-amd64 loading cookbook dhcp's attribute file /vagrant/cookbooks/dhcp/attributes/default.rb
[2014-06-09T14:01:36+00:00] DEBUG: Loading Attribute dhcp::default
[2014-06-09T14:01:36+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/group.rb
[2014-06-09T14:01:36+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/group.rb into a provider named dhcp_group defined in Chef::Provider::DhcpGroup
[2014-06-09T14:01:36+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/host.rb
[2014-06-09T14:01:36+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/host.rb into a provider named dhcp_host defined in Chef::Provider::DhcpHost
[2014-06-09T14:01:36+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/subnet.rb
[2014-06-09T14:01:36+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/subnet.rb into a provider named dhcp_subnet defined in Chef::Provider::DhcpSubnet
[2014-06-09T14:01:36+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/group.rb
[2014-06-09T14:01:36+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/group.rb into a resource named dhcp_group defined in Chef::Resource::DhcpGroup
[2014-06-09T14:01:36+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/host.rb
[2014-06-09T14:01:36+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/host.rb into a resource named dhcp_host defined in Chef::Resource::DhcpHost
[2014-06-09T14:01:36+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/subnet.rb
[2014-06-09T14:01:36+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/subnet.rb into a resource named dhcp_subnet defined in Chef::Resource::DhcpSubnet
[2014-06-09T14:01:36+00:00] DEBUG: Loading Recipe dhcp::server via include_recipe
[2014-06-09T14:01:36+00:00] DEBUG: Found recipe server in cookbook dhcp
[2014-06-09T14:01:36+00:00] DEBUG: Loading Recipe helpers-databags via include_recipe
[2014-06-09T14:01:36+00:00] DEBUG: Found recipe default in cookbook helpers-databags
[2014-06-09T14:01:36+00:00] DEBUG: Loading Recipe ruby-helper via include_recipe
[2014-06-09T14:01:36+00:00] DEBUG: Found recipe default in cookbook ruby-helper
[2014-06-09T14:01:36+00:00] DEBUG: Loading Recipe dhcp::_package via include_recipe
[2014-06-09T14:01:36+00:00] DEBUG: Found recipe _package in cookbook dhcp
[2014-06-09T14:01:36+00:00] DEBUG: Loading Recipe dhcp::_service via include_recipe
[2014-06-09T14:01:36+00:00] DEBUG: Found recipe _service in cookbook dhcp
[2014-06-09T14:01:36+00:00] DEBUG: Loading Recipe dhcp::_config via include_recipe
[2014-06-09T14:01:36+00:00] DEBUG: Found recipe _config in cookbook dhcp
[2014-06-09T14:01:36+00:00] INFO: Dhcp Peer: 
[2014-06-09T14:01:36+00:00] DEBUG: Loading Recipe dhcp::_networks via include_recipe
[2014-06-09T14:01:36+00:00] DEBUG: Found recipe _networks in cookbook dhcp
[2014-06-09T14:01:36+00:00] DEBUG: Loading Recipe dhcp::_groups via include_recipe
[2014-06-09T14:01:36+00:00] DEBUG: Found recipe _groups in cookbook dhcp
[2014-06-09T14:01:36+00:00] DEBUG: Loading Recipe dhcp::_hosts via include_recipe
[2014-06-09T14:01:36+00:00] DEBUG: Found recipe _hosts in cookbook dhcp
[2014-06-09T14:01:36+00:00] DEBUG: Loading from cookbook_path: /vagrant/cookbooks
[2014-06-09T14:01:36+00:00] DEBUG: Converging node packer-debian-7.4-amd64
[2014-06-09T14:01:36+00:00] INFO: Processing package[isc-dhcp-server] action install (dhcp::_package line 3)
[2014-06-09T14:01:36+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T14:01:36+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T14:01:36+00:00] DEBUG: package[isc-dhcp-server] checking package status for isc-dhcp-server
[2014-06-09T14:01:37+00:00] DEBUG: package[isc-dhcp-server] current version is 4.2.2.dfsg.1-5+deb70u6
[2014-06-09T14:01:37+00:00] DEBUG: package[isc-dhcp-server] candidate version is 4.2.2.dfsg.1-5+deb70u6
[2014-06-09T14:01:37+00:00] DEBUG: package[isc-dhcp-server] is already installed - nothing to do
[2014-06-09T14:01:37+00:00] INFO: Processing directory[/etc/dhcp] action create (dhcp::_package line 4)
[2014-06-09T14:01:37+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T14:01:37+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T14:01:37+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T14:01:37+00:00] INFO: Processing service[isc-dhcp-server] action enable (dhcp::_service line 3)
[2014-06-09T14:01:37+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T14:01:37+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T14:01:37+00:00] DEBUG: service[isc-dhcp-server] supports status, running
[2014-06-09T14:01:37+00:00] DEBUG: service[isc-dhcp-server] already enabled - nothing to do
[2014-06-09T14:01:37+00:00] INFO: Processing template[/etc/default/isc-dhcp-server] action create (dhcp::_service line 15)
[2014-06-09T14:01:37+00:00] DEBUG: template[/etc/default/isc-dhcp-server] checksumming file at /etc/default/isc-dhcp-server.
[2014-06-09T14:01:37+00:00] DEBUG: calculating checksum of /tmp/chef-rendered-template20140609-6617-1jx8z9o to compare with 5d47f2278b452868b3528dc6ec0e86287d071f45e5a62d38981d6363780fbd7d
[2014-06-09T14:01:37+00:00] DEBUG: found target_mode == current_mode, not updating mode
[2014-06-09T14:01:37+00:00] DEBUG: found target_uid == current_uid, not updating owner
[2014-06-09T14:01:37+00:00] DEBUG: found target_gid == current_gid, not updating group
[2014-06-09T14:01:37+00:00] INFO: Processing template[/etc/dhcp/dhcpd.conf] action create (dhcp::_config line 9)
[2014-06-09T14:01:37+00:00] DEBUG: template[/etc/dhcp/dhcpd.conf] checksumming file at /etc/dhcp/dhcpd.conf.
[2014-06-09T14:01:37+00:00] DEBUG: calculating checksum of /tmp/chef-rendered-template20140609-6617-1qvkmk7 to compare with 0841052baa94b599241caa75717643572ea3df312603e3927690890d142d99ee
[2014-06-09T14:01:37+00:00] DEBUG: found target_mode == current_mode, not updating mode
[2014-06-09T14:01:37+00:00] DEBUG: found target_uid == current_uid, not updating owner
[2014-06-09T14:01:37+00:00] DEBUG: found target_gid == current_gid, not updating group
[2014-06-09T14:01:37+00:00] INFO: Processing directory[/etc/dhcp/groups.d] action create (dhcp::_config line 52)
[2014-06-09T14:01:37+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T14:01:37+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T14:01:37+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T14:01:37+00:00] INFO: Processing file[/etc/dhcp/groups.d/list.conf] action create_if_missing (dhcp::_config line 53)
[2014-06-09T14:01:37+00:00] DEBUG: file[/etc/dhcp/groups.d/list.conf] exists at /etc/dhcp/groups.d/list.conf taking no action.
[2014-06-09T14:01:37+00:00] INFO: Processing directory[/etc/dhcp/hosts.d] action create (dhcp::_config line 52)
[2014-06-09T14:01:37+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T14:01:37+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T14:01:37+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T14:01:37+00:00] INFO: Processing file[/etc/dhcp/hosts.d/list.conf] action create_if_missing (dhcp::_config line 53)
[2014-06-09T14:01:37+00:00] DEBUG: file[/etc/dhcp/hosts.d/list.conf] exists at /etc/dhcp/hosts.d/list.conf taking no action.
[2014-06-09T14:01:37+00:00] INFO: Processing directory[/etc/dhcp/subnets.d] action create (dhcp::_config line 52)
[2014-06-09T14:01:37+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T14:01:37+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T14:01:37+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T14:01:37+00:00] INFO: Processing file[/etc/dhcp/subnets.d/list.conf] action create_if_missing (dhcp::_config line 53)
[2014-06-09T14:01:37+00:00] DEBUG: file[/etc/dhcp/subnets.d/list.conf] exists at /etc/dhcp/subnets.d/list.conf taking no action.
[2014-06-09T14:01:37+00:00] INFO: Processing dhcp_subnet[192.168.2.0] action add (dhcp::_networks line 19)
[2014-06-09T14:01:37+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T14:01:37+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T14:01:37+00:00] INFO: Processing directory[/etc/dhcp/subnets.d/] action create (/vagrant/cookbooks/dhcp/providers/subnet.rb line 28)
[2014-06-09T14:01:37+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T14:01:37+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T14:01:37+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T14:01:37+00:00] INFO: Processing template[/etc/dhcp/subnets.d/192.168.2.0.conf] action create (/vagrant/cookbooks/dhcp/providers/subnet.rb line 30)
[2014-06-09T14:01:37+00:00] DEBUG: template[/etc/dhcp/subnets.d/192.168.2.0.conf] checksumming file at /etc/dhcp/subnets.d/192.168.2.0.conf.
[2014-06-09T14:01:37+00:00] DEBUG: calculating checksum of /tmp/chef-rendered-template20140609-6617-1vyozgw to compare with c0df9dea58c8bbd8dcc7a0b3d95577e94374dfe808a29dc9842d0ed534bcc04c
[2014-06-09T14:01:37+00:00] DEBUG: running: diff -u /etc/dhcp/subnets.d/192.168.2.0.conf /tmp/chef-rendered-template20140609-6617-1vyozgw
[2014-06-09T14:01:37+00:00] INFO: template[/etc/dhcp/subnets.d/192.168.2.0.conf] backed up to /var/chef/backup/etc/dhcp/subnets.d/192.168.2.0.conf.chef-20140609140137.975184
[2014-06-09T14:01:37+00:00] DEBUG: reading modes from /etc/dhcp/subnets.d/192.168.2.0.conf file
[2014-06-09T14:01:37+00:00] DEBUG: applying mode = 644, uid = 0, gid = 0 to /tmp/chef-rendered-template20140609-6617-1vyozgw
[2014-06-09T14:01:37+00:00] DEBUG: moving temporary file /tmp/chef-rendered-template20140609-6617-1vyozgw into place at /etc/dhcp/subnets.d/192.168.2.0.conf
[2014-06-09T14:01:37+00:00] INFO: template[/etc/dhcp/subnets.d/192.168.2.0.conf] updated file contents /etc/dhcp/subnets.d/192.168.2.0.conf
[2014-06-09T14:01:37+00:00] DEBUG: found target_mode == current_mode, not updating mode
[2014-06-09T14:01:37+00:00] DEBUG: found target_uid == current_uid, not updating owner
[2014-06-09T14:01:37+00:00] DEBUG: found target_gid == current_gid, not updating group
[2014-06-09T14:01:37+00:00] DEBUG: selinux utilities can not be found. Skipping selinux permission fixup.
[2014-06-09T14:01:37+00:00] INFO: Processing template[/etc/dhcp/subnets.d/list.conf] action create (/vagrant/cookbooks/dhcp/providers/subnet.rb line 14)
[2014-06-09T14:01:37+00:00] DEBUG: template[/etc/dhcp/subnets.d/list.conf] checksumming file at /etc/dhcp/subnets.d/list.conf.
[2014-06-09T14:01:37+00:00] DEBUG: calculating checksum of /tmp/chef-rendered-template20140609-6617-1lpl1p5 to compare with 9a6aeec1e1b74165a8dfa655a95a1b9e063ec1ac073976dc8e058914fa510616
[2014-06-09T14:01:38+00:00] DEBUG: found target_mode == current_mode, not updating mode
[2014-06-09T14:01:38+00:00] DEBUG: found target_uid == current_uid, not updating owner
[2014-06-09T14:01:38+00:00] DEBUG: found target_gid == current_gid, not updating group
[2014-06-09T14:01:38+00:00] INFO: template[/etc/dhcp/subnets.d/192.168.2.0.conf] sending restart action to service[isc-dhcp-server] (delayed)
[2014-06-09T14:01:38+00:00] INFO: Processing service[isc-dhcp-server] action restart (dhcp::_service line 3)
[2014-06-09T14:01:38+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T14:01:38+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T14:01:38+00:00] DEBUG: service[isc-dhcp-server] supports status, running
[0m
================================================================================[0m
[31mError executing action `restart` on resource 'service[isc-dhcp-server]'[0m
================================================================================[0m

[0m
Mixlib::ShellOut::ShellCommandFailed[0m
------------------------------------[0m
Expected process to exit with [0], but received '1'
---- Begin output of /etc/init.d/isc-dhcp-server restart ----
STDOUT: Stopping ISC DHCP server: dhcpd failed!
Starting ISC DHCP server: dhcpdcheck syslog for diagnostics. ... failed!
 failed!
STDERR: 
---- End output of /etc/init.d/isc-dhcp-server restart ----
Ran /etc/init.d/isc-dhcp-server restart returned 1[0m

[0m
Resource Declaration:[0m
---------------------[0m
# In /vagrant/cookbooks/dhcp/recipes/_service.rb

  3: service node[:dhcp][:service_name] do
  4:   supports restart: true, status: true, reload: true
  5:   action [:enable]
  6:   # use upstart on ubuntu > 9.10
  7:   case node[:platform]
  8:   when 'ubuntu'
  9:     if node[:platform_version].to_f >= 9.10
 10:       provider Chef::Provider::Service::Upstart
 11:     end
 12:   end
[0m

[0m
Compiled Resource:[0m
------------------[0m
# Declared in /vagrant/cookbooks/dhcp/recipes/_service.rb:3:in `from_file'

service("isc-dhcp-server") do
  action [:enable]
  supports {:restart=>true, :status=>true, :reload=>true}
  retries 0
  retry_delay 2
  guard_interpreter :default
  service_name "isc-dhcp-server"
  enabled true
  pattern "isc-dhcp-server"
  cookbook_name :dhcp
  recipe_name "_service"
end
[0m

[0m
[2014-06-09T14:01:42+00:00] DEBUG: Re-raising exception: Mixlib::ShellOut::ShellCommandFailed - service[isc-dhcp-server] (dhcp::_service line 3) had an error: Mixlib::ShellOut::ShellCommandFailed: Expected process to exit with [0], but received '1'
---- Begin output of /etc/init.d/isc-dhcp-server restart ----
STDOUT: Stopping ISC DHCP server: dhcpd failed!
Starting ISC DHCP server: dhcpdcheck syslog for diagnostics. ... failed!
 failed!
STDERR: 
---- End output of /etc/init.d/isc-dhcp-server restart ----
Ran /etc/init.d/isc-dhcp-server restart returned 1
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/mixlib-shellout-1.4.0/lib/mixlib/shellout.rb:257:in `invalid!'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/mixlib-shellout-1.4.0/lib/mixlib/shellout.rb:244:in `error!'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/shell_out.rb:43:in `shell_out!'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider/service/init.rb:71:in `restart_service'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider/service.rb:115:in `block in action_restart'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/why_run.rb:52:in `call'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/why_run.rb:52:in `add_action'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider.rb:155:in `converge_by'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider/service.rb:114:in `action_restart'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider.rb:120:in `run_action'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/resource.rb:637:in `run_action'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:49:in `run_action'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:111:in `run_delayed_notification'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:99:in `block in run_delayed_notifications'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:98:in `each'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:98:in `run_delayed_notifications'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:88:in `converge'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:345:in `converge'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:431:in `do_run'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:213:in `block in run'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:207:in `fork'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:207:in `run'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application.rb:217:in `run_chef_client'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:221:in `block in run_application'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:213:in `loop'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:213:in `run_application'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application.rb:67:in `run'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/bin/chef-solo:25:in `<top (required)>'
  /usr/bin/chef-solo:23:in `load'
  /usr/bin/chef-solo:23:in `<main>'
[2014-06-09T14:01:42+00:00] ERROR: Running exception handlers
[2014-06-09T14:01:42+00:00] ERROR: Exception handlers complete
[2014-06-09T14:01:42+00:00] FATAL: Stacktrace dumped to /var/chef/cache/chef-stacktrace.out
[2014-06-09T14:01:42+00:00] DEBUG: Mixlib::ShellOut::ShellCommandFailed: service[isc-dhcp-server] (dhcp::_service line 3) had an error: Mixlib::ShellOut::ShellCommandFailed: Expected process to exit with [0], but received '1'
---- Begin output of /etc/init.d/isc-dhcp-server restart ----
STDOUT: Stopping ISC DHCP server: dhcpd failed!
Starting ISC DHCP server: dhcpdcheck syslog for diagnostics. ... failed!
 failed!
STDERR: 
---- End output of /etc/init.d/isc-dhcp-server restart ----
Ran /etc/init.d/isc-dhcp-server restart returned 1
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/mixlib-shellout-1.4.0/lib/mixlib/shellout.rb:257:in `invalid!'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/mixlib-shellout-1.4.0/lib/mixlib/shellout.rb:244:in `error!'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/shell_out.rb:43:in `shell_out!'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider/service/init.rb:71:in `restart_service'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider/service.rb:115:in `block in action_restart'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/why_run.rb:52:in `call'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/why_run.rb:52:in `add_action'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider.rb:155:in `converge_by'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider/service.rb:114:in `action_restart'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/provider.rb:120:in `run_action'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/resource.rb:637:in `run_action'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:49:in `run_action'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:111:in `run_delayed_notification'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:99:in `block in run_delayed_notifications'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:98:in `each'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:98:in `run_delayed_notifications'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/runner.rb:88:in `converge'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:345:in `converge'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:431:in `do_run'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:213:in `block in run'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:207:in `fork'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:207:in `run'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application.rb:217:in `run_chef_client'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:221:in `block in run_application'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:213:in `loop'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:213:in `run_application'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application.rb:67:in `run'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/bin/chef-solo:25:in `<top (required)>'
/usr/bin/chef-solo:23:in `load'
/usr/bin/chef-solo:23:in `<main>'
[2014-06-09T14:01:42+00:00] ERROR: service[isc-dhcp-server] (dhcp::_service line 3) had an error: Mixlib::ShellOut::ShellCommandFailed: Expected process to exit with [0], but received '1'
---- Begin output of /etc/init.d/isc-dhcp-server restart ----
STDOUT: Stopping ISC DHCP server: dhcpd failed!
Starting ISC DHCP server: dhcpdcheck syslog for diagnostics. ... failed!
 failed!
STDERR: 
---- End output of /etc/init.d/isc-dhcp-server restart ----
Ran /etc/init.d/isc-dhcp-server restart returned 1
[2014-06-09T14:01:42+00:00] FATAL: Chef::Exceptions::ChildConvergeError: Chef run process exited unsuccessfully (exit code 1)
eth0      Link encap:Ethernet  HWaddr 08:00:27:fd:fc:ab  
          inet addr:10.0.2.15  Bcast:10.0.2.255  Mask:255.255.255.0
          inet6 addr: fe80::a00:27ff:fefd:fcab/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:15836 errors:0 dropped:0 overruns:0 frame:0
          TX packets:8504 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:7605736 (7.2 MiB)  TX bytes:687446 (671.3 KiB)

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

[2014-06-09T14:04:26+00:00] INFO: Forking chef instance to converge...
[2014-06-09T14:04:26+00:00] DEBUG: Fork successful. Waiting for new chef pid: 6842
[2014-06-09T14:04:26+00:00] DEBUG: Forked instance now converging
[2014-06-09T14:04:26+00:00] WARN: 
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 
SSL validation of HTTPS requests is disabled. HTTPS connections are still
encrypted, but chef is not able to detect forged replies or man in the middle
attacks.

To fix this issue add an entry like this to your configuration file:

```
  # Verify all HTTPS connections (recommended)
  ssl_verify_mode :verify_peer

  # OR, Verify only connections to chef-server
  verify_api_cert true
```

To check your SSL configuration, or troubleshoot errors, you can use the
`knife ssl check` command like so:

```
  knife ssl check -c solo.rb
```

* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 

[2014-06-09T14:04:26+00:00] INFO: *** Chef 11.12.8 ***
[2014-06-09T14:04:26+00:00] INFO: Chef-client pid: 6842
[2014-06-09T14:04:26+00:00] DEBUG: Chef-client request_id: 1af5fae6-d055-4f60-aa05-a6d089fa8898
[2014-06-09T14:04:42+00:00] DEBUG: Building node object for packer-debian-7.4-amd64
[2014-06-09T14:04:42+00:00] DEBUG: Extracting run list from JSON attributes provided on command line
[2014-06-09T14:04:42+00:00] INFO: Setting the run_list to ["recipe[dhcp::server]"] from CLI options
[2014-06-09T14:04:42+00:00] DEBUG: Applying attributes from json file
[2014-06-09T14:04:42+00:00] DEBUG: Platform is debian version 7.4
[2014-06-09T14:04:42+00:00] INFO: Run List is [recipe[dhcp::server]]
[2014-06-09T14:04:42+00:00] INFO: Run List expands to [dhcp::server]
[2014-06-09T14:04:42+00:00] INFO: Starting Chef Run for packer-debian-7.4-amd64
[2014-06-09T14:04:42+00:00] INFO: Running start handlers
[2014-06-09T14:04:42+00:00] INFO: Start handlers complete.
[2014-06-09T14:04:42+00:00] DEBUG: No chefignore file found at /vagrant/chefignore no files will be ignored
[2014-06-09T14:04:42+00:00] DEBUG: Cookbooks to compile: [:"helpers-databags", :"ruby-helper", :dhcp]
[2014-06-09T14:04:42+00:00] DEBUG: Loading cookbook helpers-databags's library file: /vagrant/cookbooks/helpers-databags/libraries/helpers_databags.rb
[2014-06-09T14:04:42+00:00] DEBUG: Loading cookbook ruby-helper's library file: /vagrant/cookbooks/ruby-helper/libraries/object.rb
[2014-06-09T14:04:42+00:00] DEBUG: Loading cookbook dhcp's library file: /vagrant/cookbooks/dhcp/libraries/dynadns.rb
[2014-06-09T14:04:42+00:00] DEBUG: Loading cookbook dhcp's library file: /vagrant/cookbooks/dhcp/libraries/failover.rb
[2014-06-09T14:04:42+00:00] DEBUG: Node packer-debian-7.4-amd64 loading cookbook dhcp's attribute file /vagrant/cookbooks/dhcp/attributes/default.rb
[2014-06-09T14:04:42+00:00] DEBUG: Loading Attribute dhcp::default
[2014-06-09T14:04:42+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/group.rb
[2014-06-09T14:04:42+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/group.rb into a provider named dhcp_group defined in Chef::Provider::DhcpGroup
[2014-06-09T14:04:42+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/host.rb
[2014-06-09T14:04:42+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/host.rb into a provider named dhcp_host defined in Chef::Provider::DhcpHost
[2014-06-09T14:04:42+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/subnet.rb
[2014-06-09T14:04:42+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/subnet.rb into a provider named dhcp_subnet defined in Chef::Provider::DhcpSubnet
[2014-06-09T14:04:42+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/group.rb
[2014-06-09T14:04:42+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/group.rb into a resource named dhcp_group defined in Chef::Resource::DhcpGroup
[2014-06-09T14:04:42+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/host.rb
[2014-06-09T14:04:42+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/host.rb into a resource named dhcp_host defined in Chef::Resource::DhcpHost
[2014-06-09T14:04:42+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/subnet.rb
[2014-06-09T14:04:42+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/subnet.rb into a resource named dhcp_subnet defined in Chef::Resource::DhcpSubnet
[2014-06-09T14:04:42+00:00] DEBUG: Loading Recipe dhcp::server via include_recipe
[2014-06-09T14:04:42+00:00] DEBUG: Found recipe server in cookbook dhcp
[2014-06-09T14:04:42+00:00] DEBUG: Loading Recipe helpers-databags via include_recipe
[2014-06-09T14:04:42+00:00] DEBUG: Found recipe default in cookbook helpers-databags
[2014-06-09T14:04:42+00:00] DEBUG: Loading Recipe ruby-helper via include_recipe
[2014-06-09T14:04:42+00:00] DEBUG: Found recipe default in cookbook ruby-helper
[2014-06-09T14:04:42+00:00] DEBUG: Loading Recipe dhcp::_package via include_recipe
[2014-06-09T14:04:42+00:00] DEBUG: Found recipe _package in cookbook dhcp
[2014-06-09T14:04:42+00:00] DEBUG: Loading Recipe dhcp::_service via include_recipe
[2014-06-09T14:04:42+00:00] DEBUG: Found recipe _service in cookbook dhcp
[2014-06-09T14:04:42+00:00] DEBUG: Loading Recipe dhcp::_config via include_recipe
[2014-06-09T14:04:42+00:00] DEBUG: Found recipe _config in cookbook dhcp
[2014-06-09T14:04:42+00:00] INFO: Dhcp Peer: 
[2014-06-09T14:04:42+00:00] DEBUG: Loading Recipe dhcp::_networks via include_recipe
[2014-06-09T14:04:42+00:00] DEBUG: Found recipe _networks in cookbook dhcp
[2014-06-09T14:04:42+00:00] ERROR: Failed to load data bag item: "dhcp_networks" "192-168-2-0_24"
[2014-06-09T14:04:42+00:00] DEBUG: filtered backtrace of compile error: /vagrant/cookbooks/dhcp/recipes/_networks.rb:12:in `block in from_file',/vagrant/cookbooks/dhcp/recipes/_networks.rb:10:in `each',/vagrant/cookbooks/dhcp/recipes/_networks.rb:10:in `from_file',/vagrant/cookbooks/dhcp/recipes/server.rb:30:in `from_file'
[2014-06-09T14:04:42+00:00] DEBUG: filtered backtrace of compile error: /vagrant/cookbooks/dhcp/recipes/_networks.rb:12:in `block in from_file',/vagrant/cookbooks/dhcp/recipes/_networks.rb:10:in `each',/vagrant/cookbooks/dhcp/recipes/_networks.rb:10:in `from_file',/vagrant/cookbooks/dhcp/recipes/server.rb:30:in `from_file'
[2014-06-09T14:04:42+00:00] DEBUG: backtrace entry for compile error: '/vagrant/cookbooks/dhcp/recipes/_networks.rb:12:in `block in from_file''
[2014-06-09T14:04:42+00:00] DEBUG: Line number of compile error: '12'
[0m
================================================================================[0m
[31mRecipe Compile Error in /vagrant/cookbooks/dhcp/recipes/server.rb[0m
================================================================================[0m

[0m
Chef::Exceptions::ValidationFailed[0m
----------------------------------[0m
Data Bag Items must contain a Hash or Mash![0m

[0m
Cookbook Trace:[0m
---------------[0m
  /vagrant/cookbooks/dhcp/recipes/_networks.rb:12:in `block in from_file'
  /vagrant/cookbooks/dhcp/recipes/_networks.rb:10:in `each'
  /vagrant/cookbooks/dhcp/recipes/_networks.rb:10:in `from_file'
  /vagrant/cookbooks/dhcp/recipes/server.rb:30:in `from_file'[0m

[0m
Relevant File Content:[0m
----------------------[0m
/vagrant/cookbooks/dhcp/recipes/_networks.rb:

  5:  if node[:dhcp][:networks].empty?
  6:    Chef::Log.info('Attribute node[:dhcp][:networks] is empty, guess you are using LWRP')
  7:    return
  8:  end
  9:  
 10:  node[:dhcp][:networks].each do |net|
 11:    if node[:dhcp][:use_bags] == true
 12>>     data = data_bag_item(node[:dhcp][:networks_bag], Helpers::DataBags.escape_bagname(net))
 13:    else
 14:      data = node[:dhcp][:network_data].fetch net, nil
 15:    end
 16:  
 17:    next unless data
 18:    # run the lwrp with the bag data
 19:    dhcp_subnet data['address'] do
 20:      broadcast data['broadcast']
 21:      netmask   data['netmask']
[0m

[0m
[2014-06-09T14:04:43+00:00] DEBUG: Re-raising exception: Chef::Exceptions::ValidationFailed - Data Bag Items must contain a Hash or Mash!
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/data_bag_item.rb:75:in `raw_data='
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/data_bag_item.rb:126:in `from_hash'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/data_bag_item.rb:155:in `load'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/dsl/data_query.rb:59:in `data_bag_item'
  /vagrant/cookbooks/dhcp/recipes/_networks.rb:12:in `block in from_file'
  /vagrant/cookbooks/dhcp/recipes/_networks.rb:10:in `each'
  /vagrant/cookbooks/dhcp/recipes/_networks.rb:10:in `from_file'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/from_file.rb:30:in `instance_eval'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/from_file.rb:30:in `from_file'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/cookbook_version.rb:237:in `load_recipe'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:165:in `load_recipe'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:134:in `block in include_recipe'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:133:in `each'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:133:in `include_recipe'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/dsl/include_recipe.rb:26:in `include_recipe'
  /vagrant/cookbooks/dhcp/recipes/server.rb:30:in `from_file'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/from_file.rb:30:in `instance_eval'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/from_file.rb:30:in `from_file'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/cookbook_version.rb:237:in `load_recipe'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:165:in `load_recipe'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context/cookbook_compiler.rb:140:in `block in compile_recipes'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context/cookbook_compiler.rb:138:in `each'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context/cookbook_compiler.rb:138:in `compile_recipes'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context/cookbook_compiler.rb:75:in `compile'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:88:in `load'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/policy_builder/expand_node_object.rb:73:in `setup_run_context'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:265:in `setup_run_context'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:429:in `do_run'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:213:in `block in run'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:207:in `fork'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:207:in `run'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application.rb:217:in `run_chef_client'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:221:in `block in run_application'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:213:in `loop'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:213:in `run_application'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application.rb:67:in `run'
  /opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/bin/chef-solo:25:in `<top (required)>'
  /usr/bin/chef-solo:23:in `load'
  /usr/bin/chef-solo:23:in `<main>'
[2014-06-09T14:04:43+00:00] ERROR: Running exception handlers
[2014-06-09T14:04:43+00:00] ERROR: Exception handlers complete
[2014-06-09T14:04:43+00:00] FATAL: Stacktrace dumped to /var/chef/cache/chef-stacktrace.out
[2014-06-09T14:04:43+00:00] DEBUG: Chef::Exceptions::ValidationFailed: Data Bag Items must contain a Hash or Mash!
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/data_bag_item.rb:75:in `raw_data='
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/data_bag_item.rb:126:in `from_hash'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/data_bag_item.rb:155:in `load'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/dsl/data_query.rb:59:in `data_bag_item'
/vagrant/cookbooks/dhcp/recipes/_networks.rb:12:in `block in from_file'
/vagrant/cookbooks/dhcp/recipes/_networks.rb:10:in `each'
/vagrant/cookbooks/dhcp/recipes/_networks.rb:10:in `from_file'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/from_file.rb:30:in `instance_eval'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/from_file.rb:30:in `from_file'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/cookbook_version.rb:237:in `load_recipe'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:165:in `load_recipe'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:134:in `block in include_recipe'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:133:in `each'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:133:in `include_recipe'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/dsl/include_recipe.rb:26:in `include_recipe'
/vagrant/cookbooks/dhcp/recipes/server.rb:30:in `from_file'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/from_file.rb:30:in `instance_eval'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/mixin/from_file.rb:30:in `from_file'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/cookbook_version.rb:237:in `load_recipe'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:165:in `load_recipe'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context/cookbook_compiler.rb:140:in `block in compile_recipes'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context/cookbook_compiler.rb:138:in `each'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context/cookbook_compiler.rb:138:in `compile_recipes'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context/cookbook_compiler.rb:75:in `compile'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/run_context.rb:88:in `load'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/policy_builder/expand_node_object.rb:73:in `setup_run_context'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:265:in `setup_run_context'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:429:in `do_run'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:213:in `block in run'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:207:in `fork'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/client.rb:207:in `run'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application.rb:217:in `run_chef_client'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:221:in `block in run_application'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:213:in `loop'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application/solo.rb:213:in `run_application'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/lib/chef/application.rb:67:in `run'
/opt/chef/embedded/lib/ruby/gems/1.9.1/gems/chef-11.12.8/bin/chef-solo:25:in `<top (required)>'
/usr/bin/chef-solo:23:in `load'
/usr/bin/chef-solo:23:in `<main>'
[2014-06-09T14:04:43+00:00] ERROR: Data Bag Items must contain a Hash or Mash!
[2014-06-09T14:04:43+00:00] FATAL: Chef::Exceptions::ChildConvergeError: Chef run process exited unsuccessfully (exit code 1)
eth0      Link encap:Ethernet  HWaddr 08:00:27:fd:fc:ab  
          inet addr:10.0.2.15  Bcast:10.0.2.255  Mask:255.255.255.0
          inet6 addr: fe80::a00:27ff:fefd:fcab/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:16061 errors:0 dropped:0 overruns:0 frame:0
          TX packets:8671 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:7621364 (7.2 MiB)  TX bytes:707032 (690.4 KiB)

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

[2014-06-09T14:05:29+00:00] INFO: Forking chef instance to converge...
[2014-06-09T14:05:29+00:00] DEBUG: Fork successful. Waiting for new chef pid: 6998
[2014-06-09T14:05:29+00:00] DEBUG: Forked instance now converging
[2014-06-09T14:05:29+00:00] WARN: 
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 
SSL validation of HTTPS requests is disabled. HTTPS connections are still
encrypted, but chef is not able to detect forged replies or man in the middle
attacks.

To fix this issue add an entry like this to your configuration file:

```
  # Verify all HTTPS connections (recommended)
  ssl_verify_mode :verify_peer

  # OR, Verify only connections to chef-server
  verify_api_cert true
```

To check your SSL configuration, or troubleshoot errors, you can use the
`knife ssl check` command like so:

```
  knife ssl check -c solo.rb
```

* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 

[2014-06-09T14:05:29+00:00] INFO: *** Chef 11.12.8 ***
[2014-06-09T14:05:29+00:00] INFO: Chef-client pid: 6998
[2014-06-09T14:05:29+00:00] DEBUG: Chef-client request_id: 5a577894-37e4-4427-b933-d2e722357424
[2014-06-09T14:05:45+00:00] DEBUG: Building node object for packer-debian-7.4-amd64
[2014-06-09T14:05:45+00:00] DEBUG: Extracting run list from JSON attributes provided on command line
[2014-06-09T14:05:45+00:00] INFO: Setting the run_list to ["recipe[dhcp::server]"] from CLI options
[2014-06-09T14:05:45+00:00] DEBUG: Applying attributes from json file
[2014-06-09T14:05:45+00:00] DEBUG: Platform is debian version 7.4
[2014-06-09T14:05:45+00:00] INFO: Run List is [recipe[dhcp::server]]
[2014-06-09T14:05:45+00:00] INFO: Run List expands to [dhcp::server]
[2014-06-09T14:05:45+00:00] INFO: Starting Chef Run for packer-debian-7.4-amd64
[2014-06-09T14:05:45+00:00] INFO: Running start handlers
[2014-06-09T14:05:45+00:00] INFO: Start handlers complete.
[2014-06-09T14:05:45+00:00] DEBUG: No chefignore file found at /vagrant/chefignore no files will be ignored
[2014-06-09T14:05:46+00:00] DEBUG: Cookbooks to compile: [:"helpers-databags", :"ruby-helper", :dhcp]
[2014-06-09T14:05:46+00:00] DEBUG: Loading cookbook helpers-databags's library file: /vagrant/cookbooks/helpers-databags/libraries/helpers_databags.rb
[2014-06-09T14:05:46+00:00] DEBUG: Loading cookbook ruby-helper's library file: /vagrant/cookbooks/ruby-helper/libraries/object.rb
[2014-06-09T14:05:46+00:00] DEBUG: Loading cookbook dhcp's library file: /vagrant/cookbooks/dhcp/libraries/dynadns.rb
[2014-06-09T14:05:46+00:00] DEBUG: Loading cookbook dhcp's library file: /vagrant/cookbooks/dhcp/libraries/failover.rb
[2014-06-09T14:05:46+00:00] DEBUG: Node packer-debian-7.4-amd64 loading cookbook dhcp's attribute file /vagrant/cookbooks/dhcp/attributes/default.rb
[2014-06-09T14:05:46+00:00] DEBUG: Loading Attribute dhcp::default
[2014-06-09T14:05:46+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/group.rb
[2014-06-09T14:05:46+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/group.rb into a provider named dhcp_group defined in Chef::Provider::DhcpGroup
[2014-06-09T14:05:46+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/host.rb
[2014-06-09T14:05:46+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/host.rb into a provider named dhcp_host defined in Chef::Provider::DhcpHost
[2014-06-09T14:05:46+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/subnet.rb
[2014-06-09T14:05:46+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/subnet.rb into a provider named dhcp_subnet defined in Chef::Provider::DhcpSubnet
[2014-06-09T14:05:46+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/group.rb
[2014-06-09T14:05:46+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/group.rb into a resource named dhcp_group defined in Chef::Resource::DhcpGroup
[2014-06-09T14:05:46+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/host.rb
[2014-06-09T14:05:46+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/host.rb into a resource named dhcp_host defined in Chef::Resource::DhcpHost
[2014-06-09T14:05:46+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/subnet.rb
[2014-06-09T14:05:46+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/subnet.rb into a resource named dhcp_subnet defined in Chef::Resource::DhcpSubnet
[2014-06-09T14:05:46+00:00] DEBUG: Loading Recipe dhcp::server via include_recipe
[2014-06-09T14:05:46+00:00] DEBUG: Found recipe server in cookbook dhcp
[2014-06-09T14:05:46+00:00] DEBUG: Loading Recipe helpers-databags via include_recipe
[2014-06-09T14:05:46+00:00] DEBUG: Found recipe default in cookbook helpers-databags
[2014-06-09T14:05:46+00:00] DEBUG: Loading Recipe ruby-helper via include_recipe
[2014-06-09T14:05:46+00:00] DEBUG: Found recipe default in cookbook ruby-helper
[2014-06-09T14:05:46+00:00] DEBUG: Loading Recipe dhcp::_package via include_recipe
[2014-06-09T14:05:46+00:00] DEBUG: Found recipe _package in cookbook dhcp
[2014-06-09T14:05:46+00:00] DEBUG: Loading Recipe dhcp::_service via include_recipe
[2014-06-09T14:05:46+00:00] DEBUG: Found recipe _service in cookbook dhcp
[2014-06-09T14:05:46+00:00] DEBUG: Loading Recipe dhcp::_config via include_recipe
[2014-06-09T14:05:46+00:00] DEBUG: Found recipe _config in cookbook dhcp
[2014-06-09T14:05:46+00:00] INFO: Dhcp Peer: 
[2014-06-09T14:05:46+00:00] DEBUG: Loading Recipe dhcp::_networks via include_recipe
[2014-06-09T14:05:46+00:00] DEBUG: Found recipe _networks in cookbook dhcp
[2014-06-09T14:05:46+00:00] DEBUG: Loading Recipe dhcp::_groups via include_recipe
[2014-06-09T14:05:46+00:00] DEBUG: Found recipe _groups in cookbook dhcp
[2014-06-09T14:05:46+00:00] DEBUG: Loading Recipe dhcp::_hosts via include_recipe
[2014-06-09T14:05:46+00:00] DEBUG: Found recipe _hosts in cookbook dhcp
[2014-06-09T14:05:46+00:00] DEBUG: Loading from cookbook_path: /vagrant/cookbooks
[2014-06-09T14:05:46+00:00] DEBUG: Converging node packer-debian-7.4-amd64
[2014-06-09T14:05:46+00:00] INFO: Processing package[isc-dhcp-server] action install (dhcp::_package line 3)
[2014-06-09T14:05:46+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T14:05:46+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T14:05:46+00:00] DEBUG: package[isc-dhcp-server] checking package status for isc-dhcp-server
[2014-06-09T14:05:46+00:00] DEBUG: package[isc-dhcp-server] current version is 4.2.2.dfsg.1-5+deb70u6
[2014-06-09T14:05:46+00:00] DEBUG: package[isc-dhcp-server] candidate version is 4.2.2.dfsg.1-5+deb70u6
[2014-06-09T14:05:46+00:00] DEBUG: package[isc-dhcp-server] is already installed - nothing to do
[2014-06-09T14:05:46+00:00] INFO: Processing directory[/etc/dhcp] action create (dhcp::_package line 4)
[2014-06-09T14:05:46+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T14:05:46+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T14:05:46+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T14:05:46+00:00] INFO: Processing service[isc-dhcp-server] action enable (dhcp::_service line 3)
[2014-06-09T14:05:46+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T14:05:46+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T14:05:46+00:00] DEBUG: service[isc-dhcp-server] supports status, running
[2014-06-09T14:05:47+00:00] DEBUG: service[isc-dhcp-server] already enabled - nothing to do
[2014-06-09T14:05:47+00:00] INFO: Processing template[/etc/default/isc-dhcp-server] action create (dhcp::_service line 15)
[2014-06-09T14:05:47+00:00] DEBUG: template[/etc/default/isc-dhcp-server] checksumming file at /etc/default/isc-dhcp-server.
[2014-06-09T14:05:47+00:00] DEBUG: calculating checksum of /tmp/chef-rendered-template20140609-6998-15qocdb to compare with 5d47f2278b452868b3528dc6ec0e86287d071f45e5a62d38981d6363780fbd7d
[2014-06-09T14:05:47+00:00] DEBUG: found target_mode == current_mode, not updating mode
[2014-06-09T14:05:47+00:00] DEBUG: found target_uid == current_uid, not updating owner
[2014-06-09T14:05:47+00:00] DEBUG: found target_gid == current_gid, not updating group
[2014-06-09T14:05:47+00:00] INFO: Processing template[/etc/dhcp/dhcpd.conf] action create (dhcp::_config line 9)
[2014-06-09T14:05:47+00:00] DEBUG: template[/etc/dhcp/dhcpd.conf] checksumming file at /etc/dhcp/dhcpd.conf.
[2014-06-09T14:05:47+00:00] DEBUG: calculating checksum of /tmp/chef-rendered-template20140609-6998-18vo0mw to compare with 0841052baa94b599241caa75717643572ea3df312603e3927690890d142d99ee
[2014-06-09T14:05:47+00:00] DEBUG: found target_mode == current_mode, not updating mode
[2014-06-09T14:05:47+00:00] DEBUG: found target_uid == current_uid, not updating owner
[2014-06-09T14:05:47+00:00] DEBUG: found target_gid == current_gid, not updating group
[2014-06-09T14:05:47+00:00] INFO: Processing directory[/etc/dhcp/groups.d] action create (dhcp::_config line 52)
[2014-06-09T14:05:47+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T14:05:47+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T14:05:47+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T14:05:47+00:00] INFO: Processing file[/etc/dhcp/groups.d/list.conf] action create_if_missing (dhcp::_config line 53)
[2014-06-09T14:05:47+00:00] DEBUG: file[/etc/dhcp/groups.d/list.conf] exists at /etc/dhcp/groups.d/list.conf taking no action.
[2014-06-09T14:05:47+00:00] INFO: Processing directory[/etc/dhcp/hosts.d] action create (dhcp::_config line 52)
[2014-06-09T14:05:47+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T14:05:47+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T14:05:47+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T14:05:47+00:00] INFO: Processing file[/etc/dhcp/hosts.d/list.conf] action create_if_missing (dhcp::_config line 53)
[2014-06-09T14:05:47+00:00] DEBUG: file[/etc/dhcp/hosts.d/list.conf] exists at /etc/dhcp/hosts.d/list.conf taking no action.
[2014-06-09T14:05:47+00:00] INFO: Processing directory[/etc/dhcp/subnets.d] action create (dhcp::_config line 52)
[2014-06-09T14:05:47+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T14:05:47+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T14:05:47+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T14:05:47+00:00] INFO: Processing file[/etc/dhcp/subnets.d/list.conf] action create_if_missing (dhcp::_config line 53)
[2014-06-09T14:05:47+00:00] DEBUG: file[/etc/dhcp/subnets.d/list.conf] exists at /etc/dhcp/subnets.d/list.conf taking no action.
[2014-06-09T14:05:47+00:00] INFO: Processing dhcp_subnet[192.168.2.0] action add (dhcp::_networks line 19)
[2014-06-09T14:05:47+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T14:05:47+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T14:05:47+00:00] INFO: Processing directory[/etc/dhcp/subnets.d/] action create (/vagrant/cookbooks/dhcp/providers/subnet.rb line 28)
[2014-06-09T14:05:47+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T14:05:47+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T14:05:47+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T14:05:47+00:00] INFO: Processing template[/etc/dhcp/subnets.d/192.168.2.0.conf] action create (/vagrant/cookbooks/dhcp/providers/subnet.rb line 30)
[2014-06-09T14:05:47+00:00] DEBUG: template[/etc/dhcp/subnets.d/192.168.2.0.conf] checksumming file at /etc/dhcp/subnets.d/192.168.2.0.conf.
[2014-06-09T14:05:47+00:00] DEBUG: calculating checksum of /tmp/chef-rendered-template20140609-6998-1i0n8zn to compare with 39e6fc9eba8481e5e2d7fb2bb0a8c640c861386c3881908185a209f1af52612a
[2014-06-09T14:05:47+00:00] DEBUG: found target_mode == current_mode, not updating mode
[2014-06-09T14:05:47+00:00] DEBUG: found target_uid == current_uid, not updating owner
[2014-06-09T14:05:47+00:00] DEBUG: found target_gid == current_gid, not updating group
[2014-06-09T14:05:47+00:00] INFO: Processing template[/etc/dhcp/subnets.d/list.conf] action create (/vagrant/cookbooks/dhcp/providers/subnet.rb line 14)
[2014-06-09T14:05:47+00:00] DEBUG: template[/etc/dhcp/subnets.d/list.conf] checksumming file at /etc/dhcp/subnets.d/list.conf.
[2014-06-09T14:05:47+00:00] DEBUG: calculating checksum of /tmp/chef-rendered-template20140609-6998-14aokr2 to compare with 9a6aeec1e1b74165a8dfa655a95a1b9e063ec1ac073976dc8e058914fa510616
[2014-06-09T14:05:47+00:00] DEBUG: found target_mode == current_mode, not updating mode
[2014-06-09T14:05:47+00:00] DEBUG: found target_uid == current_uid, not updating owner
[2014-06-09T14:05:47+00:00] DEBUG: found target_gid == current_gid, not updating group
[2014-06-09T14:05:47+00:00] INFO: Chef Run complete in 1.397281944 seconds
[2014-06-09T14:05:47+00:00] INFO: Running report handlers
[2014-06-09T14:05:47+00:00] INFO: Report handlers complete
[2014-06-09T14:05:47+00:00] DEBUG: Forked instance successfully reaped (pid: 6998)
[2014-06-09T14:05:47+00:00] DEBUG: Exiting
eth0      Link encap:Ethernet  HWaddr 08:00:27:fd:fc:ab  
          inet addr:10.0.2.15  Bcast:10.0.2.255  Mask:255.255.255.0
          inet6 addr: fe80::a00:27ff:fefd:fcab/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:16215 errors:0 dropped:0 overruns:0 frame:0
          TX packets:8823 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:7631250 (7.2 MiB)  TX bytes:722560 (705.6 KiB)

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

[2014-06-09T14:06:11+00:00] INFO: Forking chef instance to converge...
[2014-06-09T14:06:11+00:00] DEBUG: Fork successful. Waiting for new chef pid: 7167
[2014-06-09T14:06:11+00:00] DEBUG: Forked instance now converging
[2014-06-09T14:06:11+00:00] WARN: 
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 
SSL validation of HTTPS requests is disabled. HTTPS connections are still
encrypted, but chef is not able to detect forged replies or man in the middle
attacks.

To fix this issue add an entry like this to your configuration file:

```
  # Verify all HTTPS connections (recommended)
  ssl_verify_mode :verify_peer

  # OR, Verify only connections to chef-server
  verify_api_cert true
```

To check your SSL configuration, or troubleshoot errors, you can use the
`knife ssl check` command like so:

```
  knife ssl check -c solo.rb
```

* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 

[2014-06-09T14:06:11+00:00] INFO: *** Chef 11.12.8 ***
[2014-06-09T14:06:11+00:00] INFO: Chef-client pid: 7167
[2014-06-09T14:06:11+00:00] DEBUG: Chef-client request_id: be3c562a-672d-4c22-bd43-e9679686adeb
[2014-06-09T14:06:27+00:00] DEBUG: Building node object for packer-debian-7.4-amd64
[2014-06-09T14:06:27+00:00] DEBUG: Extracting run list from JSON attributes provided on command line
[2014-06-09T14:06:27+00:00] INFO: Setting the run_list to ["recipe[dhcp::server]"] from CLI options
[2014-06-09T14:06:27+00:00] DEBUG: Applying attributes from json file
[2014-06-09T14:06:27+00:00] DEBUG: Platform is debian version 7.4
[2014-06-09T14:06:27+00:00] INFO: Run List is [recipe[dhcp::server]]
[2014-06-09T14:06:27+00:00] INFO: Run List expands to [dhcp::server]
[2014-06-09T14:06:27+00:00] INFO: Starting Chef Run for packer-debian-7.4-amd64
[2014-06-09T14:06:27+00:00] INFO: Running start handlers
[2014-06-09T14:06:27+00:00] INFO: Start handlers complete.
[2014-06-09T14:06:27+00:00] DEBUG: No chefignore file found at /vagrant/chefignore no files will be ignored
[2014-06-09T14:06:27+00:00] DEBUG: Cookbooks to compile: [:"helpers-databags", :"ruby-helper", :dhcp]
[2014-06-09T14:06:27+00:00] DEBUG: Loading cookbook helpers-databags's library file: /vagrant/cookbooks/helpers-databags/libraries/helpers_databags.rb
[2014-06-09T14:06:27+00:00] DEBUG: Loading cookbook ruby-helper's library file: /vagrant/cookbooks/ruby-helper/libraries/object.rb
[2014-06-09T14:06:27+00:00] DEBUG: Loading cookbook dhcp's library file: /vagrant/cookbooks/dhcp/libraries/dynadns.rb
[2014-06-09T14:06:27+00:00] DEBUG: Loading cookbook dhcp's library file: /vagrant/cookbooks/dhcp/libraries/failover.rb
[2014-06-09T14:06:27+00:00] DEBUG: Node packer-debian-7.4-amd64 loading cookbook dhcp's attribute file /vagrant/cookbooks/dhcp/attributes/default.rb
[2014-06-09T14:06:27+00:00] DEBUG: Loading Attribute dhcp::default
[2014-06-09T14:06:27+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/group.rb
[2014-06-09T14:06:27+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/group.rb into a provider named dhcp_group defined in Chef::Provider::DhcpGroup
[2014-06-09T14:06:27+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/host.rb
[2014-06-09T14:06:27+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/host.rb into a provider named dhcp_host defined in Chef::Provider::DhcpHost
[2014-06-09T14:06:27+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/subnet.rb
[2014-06-09T14:06:27+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/subnet.rb into a provider named dhcp_subnet defined in Chef::Provider::DhcpSubnet
[2014-06-09T14:06:27+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/group.rb
[2014-06-09T14:06:27+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/group.rb into a resource named dhcp_group defined in Chef::Resource::DhcpGroup
[2014-06-09T14:06:27+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/host.rb
[2014-06-09T14:06:27+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/host.rb into a resource named dhcp_host defined in Chef::Resource::DhcpHost
[2014-06-09T14:06:27+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/subnet.rb
[2014-06-09T14:06:27+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/subnet.rb into a resource named dhcp_subnet defined in Chef::Resource::DhcpSubnet
[2014-06-09T14:06:27+00:00] DEBUG: Loading Recipe dhcp::server via include_recipe
[2014-06-09T14:06:27+00:00] DEBUG: Found recipe server in cookbook dhcp
[2014-06-09T14:06:27+00:00] DEBUG: Loading Recipe helpers-databags via include_recipe
[2014-06-09T14:06:27+00:00] DEBUG: Found recipe default in cookbook helpers-databags
[2014-06-09T14:06:27+00:00] DEBUG: Loading Recipe ruby-helper via include_recipe
[2014-06-09T14:06:27+00:00] DEBUG: Found recipe default in cookbook ruby-helper
[2014-06-09T14:06:27+00:00] DEBUG: Loading Recipe dhcp::_package via include_recipe
[2014-06-09T14:06:28+00:00] DEBUG: Found recipe _package in cookbook dhcp
[2014-06-09T14:06:28+00:00] DEBUG: Loading Recipe dhcp::_service via include_recipe
[2014-06-09T14:06:28+00:00] DEBUG: Found recipe _service in cookbook dhcp
[2014-06-09T14:06:28+00:00] DEBUG: Loading Recipe dhcp::_config via include_recipe
[2014-06-09T14:06:28+00:00] DEBUG: Found recipe _config in cookbook dhcp
[2014-06-09T14:06:28+00:00] INFO: Dhcp Peer: 
[2014-06-09T14:06:28+00:00] DEBUG: Loading Recipe dhcp::_networks via include_recipe
[2014-06-09T14:06:28+00:00] DEBUG: Found recipe _networks in cookbook dhcp
[2014-06-09T14:06:28+00:00] DEBUG: Loading Recipe dhcp::_groups via include_recipe
[2014-06-09T14:06:28+00:00] DEBUG: Found recipe _groups in cookbook dhcp
[2014-06-09T14:06:28+00:00] DEBUG: Loading Recipe dhcp::_hosts via include_recipe
[2014-06-09T14:06:28+00:00] DEBUG: Found recipe _hosts in cookbook dhcp
[2014-06-09T14:06:28+00:00] DEBUG: Loading from cookbook_path: /vagrant/cookbooks
[2014-06-09T14:06:28+00:00] DEBUG: Converging node packer-debian-7.4-amd64
[2014-06-09T14:06:28+00:00] INFO: Processing package[isc-dhcp-server] action install (dhcp::_package line 3)
[2014-06-09T14:06:28+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T14:06:28+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T14:06:28+00:00] DEBUG: package[isc-dhcp-server] checking package status for isc-dhcp-server
[2014-06-09T14:06:28+00:00] DEBUG: package[isc-dhcp-server] current version is 4.2.2.dfsg.1-5+deb70u6
[2014-06-09T14:06:28+00:00] DEBUG: package[isc-dhcp-server] candidate version is 4.2.2.dfsg.1-5+deb70u6
[2014-06-09T14:06:28+00:00] DEBUG: package[isc-dhcp-server] is already installed - nothing to do
[2014-06-09T14:06:28+00:00] INFO: Processing directory[/etc/dhcp] action create (dhcp::_package line 4)
[2014-06-09T14:06:28+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T14:06:28+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T14:06:28+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T14:06:28+00:00] INFO: Processing service[isc-dhcp-server] action enable (dhcp::_service line 3)
[2014-06-09T14:06:28+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T14:06:28+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T14:06:28+00:00] DEBUG: service[isc-dhcp-server] supports status, running
[2014-06-09T14:06:28+00:00] DEBUG: service[isc-dhcp-server] already enabled - nothing to do
[2014-06-09T14:06:28+00:00] INFO: Processing template[/etc/default/isc-dhcp-server] action create (dhcp::_service line 15)
[2014-06-09T14:06:28+00:00] DEBUG: template[/etc/default/isc-dhcp-server] checksumming file at /etc/default/isc-dhcp-server.
[2014-06-09T14:06:28+00:00] DEBUG: calculating checksum of /tmp/chef-rendered-template20140609-7167-17zg2u8 to compare with 5d47f2278b452868b3528dc6ec0e86287d071f45e5a62d38981d6363780fbd7d
[2014-06-09T14:06:28+00:00] DEBUG: found target_mode == current_mode, not updating mode
[2014-06-09T14:06:28+00:00] DEBUG: found target_uid == current_uid, not updating owner
[2014-06-09T14:06:28+00:00] DEBUG: found target_gid == current_gid, not updating group
[2014-06-09T14:06:28+00:00] INFO: Processing template[/etc/dhcp/dhcpd.conf] action create (dhcp::_config line 9)
[2014-06-09T14:06:28+00:00] DEBUG: template[/etc/dhcp/dhcpd.conf] checksumming file at /etc/dhcp/dhcpd.conf.
[2014-06-09T14:06:28+00:00] DEBUG: calculating checksum of /tmp/chef-rendered-template20140609-7167-rmp05c to compare with 0841052baa94b599241caa75717643572ea3df312603e3927690890d142d99ee
[2014-06-09T14:06:28+00:00] DEBUG: found target_mode == current_mode, not updating mode
[2014-06-09T14:06:28+00:00] DEBUG: found target_uid == current_uid, not updating owner
[2014-06-09T14:06:28+00:00] DEBUG: found target_gid == current_gid, not updating group
[2014-06-09T14:06:28+00:00] INFO: Processing directory[/etc/dhcp/groups.d] action create (dhcp::_config line 52)
[2014-06-09T14:06:28+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T14:06:28+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T14:06:28+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T14:06:28+00:00] INFO: Processing file[/etc/dhcp/groups.d/list.conf] action create_if_missing (dhcp::_config line 53)
[2014-06-09T14:06:28+00:00] DEBUG: file[/etc/dhcp/groups.d/list.conf] exists at /etc/dhcp/groups.d/list.conf taking no action.
[2014-06-09T14:06:29+00:00] INFO: Processing directory[/etc/dhcp/hosts.d] action create (dhcp::_config line 52)
[2014-06-09T14:06:29+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T14:06:29+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T14:06:29+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T14:06:29+00:00] INFO: Processing file[/etc/dhcp/hosts.d/list.conf] action create_if_missing (dhcp::_config line 53)
[2014-06-09T14:06:29+00:00] DEBUG: file[/etc/dhcp/hosts.d/list.conf] exists at /etc/dhcp/hosts.d/list.conf taking no action.
[2014-06-09T14:06:29+00:00] INFO: Processing directory[/etc/dhcp/subnets.d] action create (dhcp::_config line 52)
[2014-06-09T14:06:29+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T14:06:29+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T14:06:29+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T14:06:29+00:00] INFO: Processing file[/etc/dhcp/subnets.d/list.conf] action create_if_missing (dhcp::_config line 53)
[2014-06-09T14:06:29+00:00] DEBUG: file[/etc/dhcp/subnets.d/list.conf] exists at /etc/dhcp/subnets.d/list.conf taking no action.
[2014-06-09T14:06:29+00:00] INFO: Processing dhcp_subnet[192.168.2.0] action add (dhcp::_networks line 19)
[2014-06-09T14:06:29+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T14:06:29+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T14:06:29+00:00] INFO: Processing directory[/etc/dhcp/subnets.d/] action create (/vagrant/cookbooks/dhcp/providers/subnet.rb line 28)
[2014-06-09T14:06:29+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T14:06:29+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T14:06:29+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T14:06:29+00:00] INFO: Processing template[/etc/dhcp/subnets.d/192.168.2.0.conf] action create (/vagrant/cookbooks/dhcp/providers/subnet.rb line 30)
[2014-06-09T14:06:29+00:00] DEBUG: template[/etc/dhcp/subnets.d/192.168.2.0.conf] checksumming file at /etc/dhcp/subnets.d/192.168.2.0.conf.
[2014-06-09T14:06:29+00:00] DEBUG: calculating checksum of /tmp/chef-rendered-template20140609-7167-198tsni to compare with 39e6fc9eba8481e5e2d7fb2bb0a8c640c861386c3881908185a209f1af52612a
[2014-06-09T14:06:29+00:00] DEBUG: found target_mode == current_mode, not updating mode
[2014-06-09T14:06:29+00:00] DEBUG: found target_uid == current_uid, not updating owner
[2014-06-09T14:06:29+00:00] DEBUG: found target_gid == current_gid, not updating group
[2014-06-09T14:06:29+00:00] INFO: Processing template[/etc/dhcp/subnets.d/list.conf] action create (/vagrant/cookbooks/dhcp/providers/subnet.rb line 14)
[2014-06-09T14:06:29+00:00] DEBUG: template[/etc/dhcp/subnets.d/list.conf] checksumming file at /etc/dhcp/subnets.d/list.conf.
[2014-06-09T14:06:29+00:00] DEBUG: calculating checksum of /tmp/chef-rendered-template20140609-7167-85nzp7 to compare with 9a6aeec1e1b74165a8dfa655a95a1b9e063ec1ac073976dc8e058914fa510616
[2014-06-09T14:06:29+00:00] DEBUG: found target_mode == current_mode, not updating mode
[2014-06-09T14:06:29+00:00] DEBUG: found target_uid == current_uid, not updating owner
[2014-06-09T14:06:29+00:00] DEBUG: found target_gid == current_gid, not updating group
[2014-06-09T14:06:29+00:00] INFO: Chef Run complete in 1.366775672 seconds
[2014-06-09T14:06:29+00:00] INFO: Running report handlers
[2014-06-09T14:06:29+00:00] INFO: Report handlers complete
[2014-06-09T14:06:29+00:00] DEBUG: Forked instance successfully reaped (pid: 7167)
[2014-06-09T14:06:29+00:00] DEBUG: Exiting
eth0      Link encap:Ethernet  HWaddr 08:00:27:fd:fc:ab  
          inet addr:10.0.2.15  Bcast:10.0.2.255  Mask:255.255.255.0
          inet6 addr: fe80::a00:27ff:fefd:fcab/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:16351 errors:0 dropped:0 overruns:0 frame:0
          TX packets:8956 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:7640082 (7.2 MiB)  TX bytes:735798 (718.5 KiB)

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

[2014-06-09T14:07:47+00:00] INFO: Forking chef instance to converge...
[2014-06-09T14:07:47+00:00] DEBUG: Fork successful. Waiting for new chef pid: 7338
[2014-06-09T14:07:47+00:00] DEBUG: Forked instance now converging
[2014-06-09T14:07:47+00:00] WARN: 
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 
SSL validation of HTTPS requests is disabled. HTTPS connections are still
encrypted, but chef is not able to detect forged replies or man in the middle
attacks.

To fix this issue add an entry like this to your configuration file:

```
  # Verify all HTTPS connections (recommended)
  ssl_verify_mode :verify_peer

  # OR, Verify only connections to chef-server
  verify_api_cert true
```

To check your SSL configuration, or troubleshoot errors, you can use the
`knife ssl check` command like so:

```
  knife ssl check -c solo.rb
```

* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 

[2014-06-09T14:07:47+00:00] INFO: *** Chef 11.12.8 ***
[2014-06-09T14:07:47+00:00] INFO: Chef-client pid: 7338
[2014-06-09T14:07:47+00:00] DEBUG: Chef-client request_id: 606bb0fa-de17-4515-b7c8-84440784dfc8
[2014-06-09T14:08:04+00:00] DEBUG: Building node object for packer-debian-7.4-amd64
[2014-06-09T14:08:04+00:00] DEBUG: Extracting run list from JSON attributes provided on command line
[2014-06-09T14:08:04+00:00] INFO: Setting the run_list to ["recipe[dhcp::server]"] from CLI options
[2014-06-09T14:08:04+00:00] DEBUG: Applying attributes from json file
[2014-06-09T14:08:04+00:00] DEBUG: Platform is debian version 7.4
[2014-06-09T14:08:04+00:00] INFO: Run List is [recipe[dhcp::server]]
[2014-06-09T14:08:04+00:00] INFO: Run List expands to [dhcp::server]
[2014-06-09T14:08:04+00:00] INFO: Starting Chef Run for packer-debian-7.4-amd64
[2014-06-09T14:08:04+00:00] INFO: Running start handlers
[2014-06-09T14:08:04+00:00] INFO: Start handlers complete.
[2014-06-09T14:08:04+00:00] DEBUG: No chefignore file found at /vagrant/chefignore no files will be ignored
[2014-06-09T14:08:04+00:00] DEBUG: Cookbooks to compile: [:"helpers-databags", :"ruby-helper", :dhcp]
[2014-06-09T14:08:04+00:00] DEBUG: Loading cookbook helpers-databags's library file: /vagrant/cookbooks/helpers-databags/libraries/helpers_databags.rb
[2014-06-09T14:08:04+00:00] DEBUG: Loading cookbook ruby-helper's library file: /vagrant/cookbooks/ruby-helper/libraries/object.rb
[2014-06-09T14:08:04+00:00] DEBUG: Loading cookbook dhcp's library file: /vagrant/cookbooks/dhcp/libraries/dynadns.rb
[2014-06-09T14:08:04+00:00] DEBUG: Loading cookbook dhcp's library file: /vagrant/cookbooks/dhcp/libraries/failover.rb
[2014-06-09T14:08:04+00:00] DEBUG: Node packer-debian-7.4-amd64 loading cookbook dhcp's attribute file /vagrant/cookbooks/dhcp/attributes/default.rb
[2014-06-09T14:08:04+00:00] DEBUG: Loading Attribute dhcp::default
[2014-06-09T14:08:04+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/group.rb
[2014-06-09T14:08:04+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/group.rb into a provider named dhcp_group defined in Chef::Provider::DhcpGroup
[2014-06-09T14:08:04+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/host.rb
[2014-06-09T14:08:04+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/host.rb into a provider named dhcp_host defined in Chef::Provider::DhcpHost
[2014-06-09T14:08:04+00:00] DEBUG: Loading cookbook dhcp's providers from /vagrant/cookbooks/dhcp/providers/subnet.rb
[2014-06-09T14:08:04+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/providers/subnet.rb into a provider named dhcp_subnet defined in Chef::Provider::DhcpSubnet
[2014-06-09T14:08:04+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/group.rb
[2014-06-09T14:08:04+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/group.rb into a resource named dhcp_group defined in Chef::Resource::DhcpGroup
[2014-06-09T14:08:04+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/host.rb
[2014-06-09T14:08:04+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/host.rb into a resource named dhcp_host defined in Chef::Resource::DhcpHost
[2014-06-09T14:08:04+00:00] DEBUG: Loading cookbook dhcp's resources from /vagrant/cookbooks/dhcp/resources/subnet.rb
[2014-06-09T14:08:04+00:00] DEBUG: Loaded contents of /vagrant/cookbooks/dhcp/resources/subnet.rb into a resource named dhcp_subnet defined in Chef::Resource::DhcpSubnet
[2014-06-09T14:08:04+00:00] DEBUG: Loading Recipe dhcp::server via include_recipe
[2014-06-09T14:08:04+00:00] DEBUG: Found recipe server in cookbook dhcp
[2014-06-09T14:08:04+00:00] DEBUG: Loading Recipe helpers-databags via include_recipe
[2014-06-09T14:08:04+00:00] DEBUG: Found recipe default in cookbook helpers-databags
[2014-06-09T14:08:04+00:00] DEBUG: Loading Recipe ruby-helper via include_recipe
[2014-06-09T14:08:04+00:00] DEBUG: Found recipe default in cookbook ruby-helper
[2014-06-09T14:08:04+00:00] DEBUG: Loading Recipe dhcp::_package via include_recipe
[2014-06-09T14:08:04+00:00] DEBUG: Found recipe _package in cookbook dhcp
[2014-06-09T14:08:04+00:00] DEBUG: Loading Recipe dhcp::_service via include_recipe
[2014-06-09T14:08:04+00:00] DEBUG: Found recipe _service in cookbook dhcp
[2014-06-09T14:08:04+00:00] DEBUG: Loading Recipe dhcp::_config via include_recipe
[2014-06-09T14:08:04+00:00] DEBUG: Found recipe _config in cookbook dhcp
[2014-06-09T14:08:04+00:00] INFO: Dhcp Peer: 
[2014-06-09T14:08:04+00:00] DEBUG: Loading Recipe dhcp::_networks via include_recipe
[2014-06-09T14:08:04+00:00] DEBUG: Found recipe _networks in cookbook dhcp
[2014-06-09T14:08:04+00:00] DEBUG: Loading Recipe dhcp::_groups via include_recipe
[2014-06-09T14:08:04+00:00] DEBUG: Found recipe _groups in cookbook dhcp
[2014-06-09T14:08:04+00:00] DEBUG: Loading Recipe dhcp::_hosts via include_recipe
[2014-06-09T14:08:04+00:00] DEBUG: Found recipe _hosts in cookbook dhcp
[2014-06-09T14:08:04+00:00] DEBUG: Loading from cookbook_path: /vagrant/cookbooks
[2014-06-09T14:08:04+00:00] DEBUG: Converging node packer-debian-7.4-amd64
[2014-06-09T14:08:04+00:00] INFO: Processing package[isc-dhcp-server] action install (dhcp::_package line 3)
[2014-06-09T14:08:04+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T14:08:04+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T14:08:04+00:00] DEBUG: package[isc-dhcp-server] checking package status for isc-dhcp-server
[2014-06-09T14:08:04+00:00] DEBUG: package[isc-dhcp-server] current version is 4.2.2.dfsg.1-5+deb70u6
[2014-06-09T14:08:04+00:00] DEBUG: package[isc-dhcp-server] candidate version is 4.2.2.dfsg.1-5+deb70u6
[2014-06-09T14:08:04+00:00] DEBUG: package[isc-dhcp-server] is already installed - nothing to do
[2014-06-09T14:08:04+00:00] INFO: Processing directory[/etc/dhcp] action create (dhcp::_package line 4)
[2014-06-09T14:08:04+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T14:08:04+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T14:08:04+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T14:08:04+00:00] INFO: Processing service[isc-dhcp-server] action enable (dhcp::_service line 3)
[2014-06-09T14:08:04+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T14:08:04+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T14:08:04+00:00] DEBUG: service[isc-dhcp-server] supports status, running
[2014-06-09T14:08:05+00:00] DEBUG: service[isc-dhcp-server] already enabled - nothing to do
[2014-06-09T14:08:05+00:00] INFO: Processing template[/etc/default/isc-dhcp-server] action create (dhcp::_service line 15)
[2014-06-09T14:08:05+00:00] DEBUG: template[/etc/default/isc-dhcp-server] checksumming file at /etc/default/isc-dhcp-server.
[2014-06-09T14:08:05+00:00] DEBUG: calculating checksum of /tmp/chef-rendered-template20140609-7338-um31k2 to compare with 5d47f2278b452868b3528dc6ec0e86287d071f45e5a62d38981d6363780fbd7d
[2014-06-09T14:08:05+00:00] DEBUG: found target_mode == current_mode, not updating mode
[2014-06-09T14:08:05+00:00] DEBUG: found target_uid == current_uid, not updating owner
[2014-06-09T14:08:05+00:00] DEBUG: found target_gid == current_gid, not updating group
[2014-06-09T14:08:05+00:00] INFO: Processing template[/etc/dhcp/dhcpd.conf] action create (dhcp::_config line 9)
[2014-06-09T14:08:05+00:00] DEBUG: template[/etc/dhcp/dhcpd.conf] checksumming file at /etc/dhcp/dhcpd.conf.
[2014-06-09T14:08:05+00:00] DEBUG: calculating checksum of /tmp/chef-rendered-template20140609-7338-17w8djh to compare with 0841052baa94b599241caa75717643572ea3df312603e3927690890d142d99ee
[2014-06-09T14:08:05+00:00] DEBUG: found target_mode == current_mode, not updating mode
[2014-06-09T14:08:05+00:00] DEBUG: found target_uid == current_uid, not updating owner
[2014-06-09T14:08:05+00:00] DEBUG: found target_gid == current_gid, not updating group
[2014-06-09T14:08:05+00:00] INFO: Processing directory[/etc/dhcp/groups.d] action create (dhcp::_config line 52)
[2014-06-09T14:08:05+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T14:08:05+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T14:08:05+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T14:08:05+00:00] INFO: Processing file[/etc/dhcp/groups.d/list.conf] action create_if_missing (dhcp::_config line 53)
[2014-06-09T14:08:05+00:00] DEBUG: file[/etc/dhcp/groups.d/list.conf] exists at /etc/dhcp/groups.d/list.conf taking no action.
[2014-06-09T14:08:05+00:00] INFO: Processing directory[/etc/dhcp/hosts.d] action create (dhcp::_config line 52)
[2014-06-09T14:08:05+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T14:08:05+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T14:08:05+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T14:08:05+00:00] INFO: Processing file[/etc/dhcp/hosts.d/list.conf] action create_if_missing (dhcp::_config line 53)
[2014-06-09T14:08:05+00:00] DEBUG: file[/etc/dhcp/hosts.d/list.conf] exists at /etc/dhcp/hosts.d/list.conf taking no action.
[2014-06-09T14:08:05+00:00] INFO: Processing directory[/etc/dhcp/subnets.d] action create (dhcp::_config line 52)
[2014-06-09T14:08:05+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T14:08:05+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T14:08:05+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T14:08:05+00:00] INFO: Processing file[/etc/dhcp/subnets.d/list.conf] action create_if_missing (dhcp::_config line 53)
[2014-06-09T14:08:05+00:00] DEBUG: file[/etc/dhcp/subnets.d/list.conf] exists at /etc/dhcp/subnets.d/list.conf taking no action.
[2014-06-09T14:08:05+00:00] INFO: Processing dhcp_subnet[192.168.2.0] action add (dhcp::_networks line 19)
[2014-06-09T14:08:05+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T14:08:05+00:00] DEBUG: Platform debian version 7.4 found
[2014-06-09T14:08:05+00:00] INFO: Processing directory[/etc/dhcp/subnets.d/] action create (/vagrant/cookbooks/dhcp/providers/subnet.rb line 28)
[2014-06-09T14:08:05+00:00] DEBUG: found target_mode == nil, so no mode was specified on resource, not managing mode
[2014-06-09T14:08:05+00:00] DEBUG: found target_uid == nil, so no owner was specified on resource, not managing owner
[2014-06-09T14:08:05+00:00] DEBUG: found target_gid == nil, so no group was specified on resource, not managing group
[2014-06-09T14:08:05+00:00] INFO: Processing template[/etc/dhcp/subnets.d/192.168.2.0.conf] action create (/vagrant/cookbooks/dhcp/providers/subnet.rb line 30)
[2014-06-09T14:08:05+00:00] DEBUG: template[/etc/dhcp/subnets.d/192.168.2.0.conf] checksumming file at /etc/dhcp/subnets.d/192.168.2.0.conf.
[2014-06-09T14:08:05+00:00] DEBUG: calculating checksum of /tmp/chef-rendered-template20140609-7338-1yb6jo8 to compare with 39e6fc9eba8481e5e2d7fb2bb0a8c640c861386c3881908185a209f1af52612a
[2014-06-09T14:08:05+00:00] DEBUG: found target_mode == current_mode, not updating mode
[2014-06-09T14:08:05+00:00] DEBUG: found target_uid == current_uid, not updating owner
[2014-06-09T14:08:05+00:00] DEBUG: found target_gid == current_gid, not updating group
[2014-06-09T14:08:05+00:00] INFO: Processing template[/etc/dhcp/subnets.d/list.conf] action create (/vagrant/cookbooks/dhcp/providers/subnet.rb line 14)
[2014-06-09T14:08:05+00:00] DEBUG: template[/etc/dhcp/subnets.d/list.conf] checksumming file at /etc/dhcp/subnets.d/list.conf.
[2014-06-09T14:08:05+00:00] DEBUG: calculating checksum of /tmp/chef-rendered-template20140609-7338-8aibjz to compare with 9a6aeec1e1b74165a8dfa655a95a1b9e063ec1ac073976dc8e058914fa510616
[2014-06-09T14:08:05+00:00] DEBUG: found target_mode == current_mode, not updating mode
[2014-06-09T14:08:05+00:00] DEBUG: found target_uid == current_uid, not updating owner
[2014-06-09T14:08:05+00:00] DEBUG: found target_gid == current_gid, not updating group
[2014-06-09T14:08:05+00:00] INFO: Chef Run complete in 1.408582044 seconds
[2014-06-09T14:08:05+00:00] INFO: Running report handlers
[2014-06-09T14:08:05+00:00] INFO: Report handlers complete
[2014-06-09T14:08:05+00:00] DEBUG: Forked instance successfully reaped (pid: 7338)
[2014-06-09T14:08:05+00:00] DEBUG: Exiting
eth0      Link encap:Ethernet  HWaddr 08:00:27:fd:fc:ab  
          inet addr:10.0.2.15  Bcast:10.0.2.255  Mask:255.255.255.0
          inet6 addr: fe80::a00:27ff:fefd:fcab/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:16499 errors:0 dropped:0 overruns:0 frame:0
          TX packets:9102 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:7649698 (7.2 MiB)  TX bytes:750143 (732.5 KiB)

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

